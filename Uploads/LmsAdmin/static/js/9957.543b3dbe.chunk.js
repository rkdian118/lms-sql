"use strict";(self.webpackChunklead_management_system_dashboard=self.webpackChunklead_management_system_dashboard||[]).push([[9957],{19273:function(e,t,n){n.d(t,{Z:function(){return ne}});var i=n(74165),o=n(15861),s=n(29439),r=n(1413),l=n(45987),a=n(47313),d=n(66135),c=n(50301),u=n(94469),p=n(33604),h=n(47131),x=n(24813),m=n(61113),v=n(96467),f=n(9019),j=n(93405),g=n(73428),Z=n(11198),y=n(79429),C=n(3463),_=n(64224),b=n(5866),w=n(17592),S=n(19860),M=(n(61581),n(34229)),P=n.n(M),A=(n(17744),n(62831)),D=n(25486),W=(n(33497),n(66182)),k=(n(57201),n(70816)),F=n.n(k),R=(n(9535),n(96862)),T=n(19536),I=n(88797),B=n(51405),z=n(15480),U=n(24631),L=n(9506),Y=n(69099),q=n(85281),O=n(46417),V=["children","onClose"],E=a.forwardRef((function(e,t){return(0,O.jsx)(c.Z,(0,r.Z)({direction:"left",ref:t},e))})),N=(0,w.ZP)(u.Z)((function(e){var t=e.theme;return{"& .css-adfesr-MuiModal-root-MuiDialog-root":{maxWidth:"100%"},"& .MuDialogContent-root":{padding:t.spacing(2)},"& .MuDialogActions-root":{padding:t.spacing(1)}}})),$=function(e){var t=e.children,n=e.onClose,i=(0,l.Z)(e,V);return(0,O.jsxs)(p.Z,(0,r.Z)((0,r.Z)({sx:{m:0,py:1,px:2}},i),{},{children:[t,n?(0,O.jsx)(h.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:10,top:10,color:function(e){return e.palette.grey[500]}},children:(0,O.jsx)(Z.Z,{})}):null]}))};var J=(0,d.$j)(null,{AddFollowUpsCallApi:A.PI})((function(e){var t=e.open,n=e.close,i=e.AddFollowUpsCallApi,o=e.typesOfKey,r=e.leadId,l=(0,S.Z)(),c=(0,_.I0)(),u=((0,a.useRef)(null),(0,d.v9)((function(e){return e.masterAction})).leadStatusList,(0,a.useState)(o)),p=(0,s.Z)(u,2),h=p[0],x=p[1],j={lead_response:o,new_Comment:""},g=function(){var e=C.Ry({lead_response:C.Z_().required("Follow-Ups Call Field is Required")});return 1===h&&(e=e.shape({new_Comment:C.Z_().required("Comment Field is Required")})),e}(),Z=(0,y.TA)({initialValues:j,onSubmit:function(e,t){var o=t.setSubmitting,s={lead_id:r,response:e.lead_response,comment:e.new_Comment};i(s).then((function(e){!0===e.succeeded?(n(),o(!1),c((0,b.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"success"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}}))):(o(!1),c((0,b.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"error"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}})))})).catch((function(e){o(!1)}))},validationSchema:g});return(0,O.jsx)("div",{children:(0,O.jsxs)(N,{open:t,TransitionComponent:E,maxWidth:"sm",fullWidth:!0,sx:{"& .MuiDialog-paper":{width:"100%",maxWidth:"500px"}},children:[(0,O.jsx)($,{id:"customized-dialog-title",onClose:function(){n()},children:(0,O.jsx)(m.Z,{variant:"h6",component:"h6",sx:{pl:"10px",fontSize:"1em"},children:"Add Follow-Ups Calls"})}),(0,O.jsx)(P(),{component:"div",style:{scrollbarWidth:"thin",scrollbarColor:"#b2b3b3 #f1f1f1",maxWidth:"100%"},children:(0,O.jsx)(v.Z,{dividers:!0,sx:{px:0},children:(0,O.jsx)(y.J9,{children:(0,O.jsxs)("form",{noValidate:!0,onSubmit:Z.handleSubmit,children:[(0,O.jsx)(T.Z,{sx:{borderStyle:"dashed",borderColor:"#000000",marginTop:"-20px",marginBottom:"40px"}}),(0,O.jsxs)(f.ZP,{container:!0,spacing:0,sx:{p:"10px 30px"},children:[(0,O.jsxs)(f.ZP,{item:!0,xs:12,sx:{mb:0,alignItems:"left"},children:[(0,O.jsxs)(m.Z,{variant:"h5",sx:{width:"180px"},children:["Follow-Ups Call",(0,O.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,O.jsxs)(I.Z,{fullWidth:!0,name:"lead_response",value:Z.values.lead_response?Z.values.lead_response:"",onChange:Z.handleChange,error:Z.touched.lead_response&&Boolean(Z.errors.lead_response),helperText:Z.touched.lead_response&&Z.errors.lead_response,onBlur:Z.handleBlur,displayEmpty:!0,style:{display:"flex",justifyContent:"flex-start",marginBottom:"5px ",marginTop:"5px "},children:[(0,O.jsx)(B.Z,{value:"",onClick:function(){return x(0)},children:"Select Response"}),(0,O.jsx)(B.Z,{value:1,onClick:function(){return x(1)},children:"Picked"}),(0,O.jsx)(B.Z,{value:2,onClick:function(){return x(2)},children:"Not Picked"}),(0,O.jsx)(B.Z,{value:3,onClick:function(){return x(3)},children:"Declined"})]}),Z.touched.lead_response&&Z.errors.lead_response&&(0,O.jsx)(z.Z,{error:!0,children:Z.errors.lead_response})]}),(0,O.jsxs)(f.ZP,{item:!0,xs:12,sx:{mb:0,alignItems:"left"},children:[(0,O.jsxs)(m.Z,{variant:"h5",sx:{width:"180px"},children:["Comment ",1===h?(0,O.jsx)("span",{style:{color:"red"},children:"*"}):""]}),(0,O.jsx)(U.Z,{fullWidth:!0,placeholder:"Enter Comment",type:"text",style:{display:"flex",justifyContent:"flex-start",marginBottom:"5px ",marginTop:"5px "},name:"new_Comment",value:Z.values.new_Comment,onChange:Z.handleChange,error:Z.touched.new_Comment&&Boolean(Z.errors.new_Comment),helperText:Z.touched.new_Comment&&Z.errors.new_Comment,onBlur:Z.handleBlur})]})]}),(0,O.jsx)(L.Z,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,O.jsx)(W.Z,{scale:{hover:1.1,tap:.9},children:(0,O.jsx)(Y.Z,{variant:"contained",color:"primary",type:"submit",disabled:Z.isSubmitting,sx:{px:5,width:"100%",boxShadow:l.customShadows.primary,":hover":{boxShadow:"none"}},children:Z.isSubmitting?(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(q.Z,{color:"inherit",size:20})}):"Submit"})})})]})})})})]})})})),K=n(11692),G=n(14732),H=n(74031),Q=["children","onClose"];var X=a.forwardRef((function(e,t){return(0,O.jsx)(c.Z,(0,r.Z)({direction:"left",ref:t},e))})),ee=(0,w.ZP)(u.Z)((function(e){var t=e.theme;return{"& .css-adfesr-MuiModal-root-MuiDialog-root":{maxWidth:"100%"},"& .MuDialogContent-root":{padding:t.spacing(2)},"& .MuDialogActions-root":{padding:t.spacing(1)}}})),te=function(e){var t=e.children,n=e.onClose,i=(0,l.Z)(e,Q);return(0,O.jsxs)(p.Z,(0,r.Z)((0,r.Z)({sx:{m:0,py:1,px:2,display:"flex"}},i),{},{children:[t,n?(0,O.jsx)(h.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:10,top:10,color:function(e){return e.palette.grey[500]}},children:(0,O.jsx)(Z.Z,{})}):null]}))};var ne=(0,d.$j)(null,{AddCommentLeadActivityApi:A._e,GetLeadActivityDetailsApi:A.IT})((function(e){var t,n,r,l,c,u,p,h,Z,w=(0,S.Z)(),M=((0,x.Z)(w.breakpoints.down("sm")),(0,d.v9)((function(e){return e.businessAction}))),W=M.getFollowUpsCallsDetails,k=M.getFollowUpsCallsDetailsLoading,T={p:2.5,border:"1px solid ",borderColor:"dark"===w.palette.mode?w.palette.dark.main:w.palette.grey[200]},I=e.open,B=e.close,z=e.AddCommentLeadActivityApi,U=(e.rowData,e.leadId),L=(0,d.v9)((function(e){return e.businessAction})),Y=L.getLeadActivityData,q=(L.getLeadActivityLoading,(0,D.Z)().borderRadius,a.useState(0)),V=(0,s.Z)(q,2),E=V[0],N=V[1],$=(0,a.useState)(!1),Q=(0,s.Z)($,2),ne=Q[0],ie=Q[1],oe=(0,a.useState)([]),se=(0,s.Z)(oe,2),re=(se[0],se[1]),le=(0,a.useState)(""),ae=(0,s.Z)(le,2),de=ae[0],ce=ae[1],ue=(0,a.useState)(["",""]),pe=(0,s.Z)(ue,2),he=pe[0],xe=pe[1],me=(0,a.useState)(""),ve=(0,s.Z)(me,2),fe=ve[0],je=ve[1];(0,a.useEffect)((function(){var e,t;(null===Y||void 0===Y?void 0:Y.length)>0&&(re(Y[0]),ce(null===(e=Y[0])||void 0===e?void 0:e._id),je(null===(t=Y[0])||void 0===t?void 0:t.type))}),[Y]);var ge=C.Ry({new_Comment:C.Z_().required("Comment Field is Required")}),Ze=((0,y.TA)({enableReinitialize:!0,initialValues:{new_Comment:""},onSubmit:function(e,t){var n=t.setSubmitting,i=t.resetForm,o={type:fe,lead_activity_id:de,comment:e.new_Comment};z(o).then((function(e){!0===e.succeeded?((0,_.WI)((0,A.IT)(U)),i(),n(!1),(0,_.WI)((0,b.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"success"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}}))):(n(!1),(0,_.WI)((0,b.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"error"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}})))})).catch((function(){n(!1)}))},validationSchema:ge}),function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?F()(t[0]).format("YYYY-MM-DD"):"",o=t?F()(t[1]).format("YYYY-MM-DD"):"",e.next=4,(0,_.WI)((0,A.ec)(U,n,o));case 4:xe(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ye=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xe(t),!(t.length>0)){e.next=6;break}return n=t?F()(t[0]).format("YYYY-MM-DD"):"",o=t?F()(t[1]).format("YYYY-MM-DD"):"",e.next=6,(0,_.WI)((0,A.ec)(U,n,o));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,O.jsx)("div",{children:(0,O.jsxs)(ee,{open:I,TransitionComponent:X,maxWidth:"xl",fullWidth:!0,sx:{"& .MuiDialog-paper":{width:"100%",maxWidth:"750px",height:"650px"}},children:[(0,O.jsx)(te,{id:"customized-dialog-title",onClose:function(){B()},children:(0,O.jsx)(m.Z,{variant:"h6",component:"h6",sx:{pl:"10px",fontSize:"1em"},children:"Follow-Ups Calls Details"})}),(0,O.jsx)(P(),{component:"div",style:{scrollbarWidth:"thin",scrollbarColor:"#b2b3b3 #f1f1f1",maxWidth:"100%"},children:(0,O.jsx)(v.Z,{dividers:!0,sx:{px:0},children:(0,O.jsxs)(f.ZP,{container:!0,spacing:1,children:[(0,O.jsx)(f.ZP,{item:!0,xs:12,md:12,lg:12,sx:{display:"flex",justifyContent:"center",alignContent:"center",my:1},children:(0,O.jsx)(G.Z,{showOneCalendar:!0,size:"lg",placeholder:"Please Select Date-Range",className:"w-100 input d-inline",character:" -To- ",block:!0,value:he,cleanable:!0,onOk:Ze,onChange:ye,format:"dd-MMM-yyyy",onKeyDown:function(e){return e.preventDefault()},ranges:H.rQ,style:{borderRadius:"10px !important"},container:function(){return document.body}})}),(0,O.jsxs)(f.ZP,{item:!0,xs:12,sx:{"&.MuiGrid-root":{pt:"0px"}},children:[(0,O.jsxs)(f.ZP,{container:!0,alignItems:"center",spacing:0,children:[(0,O.jsx)(f.ZP,{item:!0,xs:12,sm:3,sx:T}),(0,O.jsx)(f.ZP,{item:!0,xs:12,sm:6,sx:T,children:(0,O.jsx)(R.Z,{title:"Total Paid Users",primary:(null===W||void 0===W||null===(t=W.totalCalls)||void 0===t?void 0:t.length)>0&&null!==W&&void 0!==W&&W.totalCalls?null===W||void 0===W||null===(n=W.totalCalls[0])||void 0===n?void 0:n.count:0,secondary:"Total Follow Up Calls",color:w.palette.error.main,type:1})}),(0,O.jsx)(f.ZP,{item:!0,xs:12,sm:3,sx:T}),(0,O.jsx)(f.ZP,{item:!0,xs:12,sm:4,sx:T,children:(0,O.jsx)(R.Z,{title:"Total Paid Users",primary:(null===W||void 0===W||null===(r=W.positiveCalls)||void 0===r?void 0:r.length)>0&&null!==W&&void 0!==W&&W.positiveCalls?null===W||void 0===W||null===(l=W.positiveCalls[0])||void 0===l?void 0:l.count:0,secondary:"Picked",color:w.palette.success.main,clickable:function(){ie(!0),N(1)}})}),(0,O.jsx)(f.ZP,{item:!0,xs:12,sm:4,sx:T,children:(0,O.jsx)(R.Z,{title:"Total Paid Users",primary:(null===W||void 0===W||null===(c=W.negativeCalls)||void 0===c?void 0:c.length)>0&&null!==W&&void 0!==W&&W.negativeCalls?null===W||void 0===W||null===(u=W.negativeCalls[0])||void 0===u?void 0:u.count:0,secondary:"Not Picked",color:w.palette.success.main,clickable:function(){ie(!0),N(2)}})}),(0,O.jsx)(f.ZP,{item:!0,xs:12,sm:4,sx:T,children:(0,O.jsx)(R.Z,{title:"Total Paid Users",primary:(null===W||void 0===W||null===(p=W.declinedCalls)||void 0===p?void 0:p.length)>0&&null!==W&&void 0!==W&&W.declinedCalls?null===W||void 0===W||null===(h=W.declinedCalls[0])||void 0===h?void 0:h.count:0,secondary:"Declined",color:w.palette.error.main,clickable:function(){ie(!0),N(3)}})})]}),(0,O.jsx)(j.Z,{sx:{borderLeft:"1px solid",borderColor:"dark"===w.palette.mode?w.palette.background.default:w.palette.grey[200]},children:!k&&(null===W||void 0===W?void 0:W.data.length)>0?null===W||void 0===W||null===(Z=W.data)||void 0===Z?void 0:Z.map((function(e){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(g.Z,{sx:{display:"inline-block",bgcolor:"dark"===w.palette.mode?"grey.600":w.palette.primary.light},children:(0,O.jsx)(j.Z,{sx:{p:2,pb:"16px !important",width:"fit-content",ml:"auto"},children:(0,O.jsxs)(f.ZP,{container:!0,spacing:1,children:[(0,O.jsx)(f.ZP,{item:!0,xs:12,children:(0,O.jsx)(m.Z,{variant:"body2",color:"dark"===w.palette.mode?"dark.900":"",children:null!==e&&void 0!==e&&e.comment&&""!==(null===e||void 0===e?void 0:e.comment)?null===e||void 0===e?void 0:e.comment:"No Comment Found"})}),(0,O.jsxs)(f.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",alignContent:"center"},children:[(0,O.jsxs)(m.Z,{align:"left",variant:"subtitle2",color:"dark"===w.palette.mode?"dark.900":"",sx:{display:"flex",alignItems:"center"},children:[1===(null===e||void 0===e?void 0:e.response)&&"Picked",2===(null===e||void 0===e?void 0:e.response)&&"Not Picked",3===(null===e||void 0===e?void 0:e.response)&&"Declined"]}),(0,O.jsx)(m.Z,{align:"right",variant:"subtitle2",color:"dark"===w.palette.mode?"dark.900":"",children:F()(null===e||void 0===e?void 0:e.createdAt).format("DD-MMM-YYYY hh:mm a")})]})]})})}),(0,O.jsx)("br",{})]})})):(0,O.jsx)(O.Fragment,{children:!0===k?(0,O.jsx)(K.HN,{}):(0,O.jsx)(m.Z,{variant:"body2",align:"center",color:"dark"===w.palette.mode?"dark.900":"",children:"No Comment Found"})})})]})]})})}),ne&&(0,O.jsx)(J,{leadId:U,typesOfKey:E,open:ne,close:function(){return ie(!1),void(0,_.WI)((0,A.ec)(U))}})]})})}))},9535:function(e,t,n){var i=n(45987),o=n(1413),s=n(47313),r=n(66135),l=n(50301),a=n(94469),d=n(33604),c=n(47131),u=n(61113),p=n(96467),h=n(9019),x=n(88797),m=n(51405),v=n(15480),f=n(24631),j=n(9506),g=n(69099),Z=n(85281),y=n(11198),C=n(79429),_=n(3463),b=n(64224),w=n(5866),S=n(17592),M=n(19860),P=(n(61581),n(34229)),A=n.n(P),D=(n(17744),n(62831)),W=n(66182),k=n(46417),F=["children","onClose"],R=s.forwardRef((function(e,t){return(0,k.jsx)(l.Z,(0,o.Z)({direction:"left",ref:t},e))})),T=(0,S.ZP)(a.Z)((function(e){var t=e.theme;return{"& .css-adfesr-MuiModal-root-MuiDialog-root":{maxWidth:"100%"},"& .MuDialogContent-root":{padding:t.spacing(2)},"& .MuDialogActions-root":{padding:t.spacing(1)}}})),I=function(e){var t=e.children,n=e.onClose,s=(0,i.Z)(e,F);return(0,k.jsxs)(d.Z,(0,o.Z)((0,o.Z)({sx:{m:0,py:1,px:2}},s),{},{children:[t,n?(0,k.jsx)(c.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:10,top:10,color:function(e){return e.palette.grey[500]}},children:(0,k.jsx)(y.Z,{})}):null]}))};t.Z=(0,r.$j)(null,{UpdateLeadActivityApi:D.hU})((function(e){var t=(0,M.Z)(),n=e.open,i=e.close,o=e.UpdateLeadActivityApi,l=e.activityId,a=(0,b.I0)(),d=((0,s.useRef)(null),(0,r.v9)((function(e){return e.masterAction})).leadFollowUpList),c=(0,r.v9)((function(e){return e.businessAction})),y=(c.getLeadActivityData,c.getLeadActivityLoading,_.Ry({follow_ups:_.Z_().required("Follow-Ups Field is Required"),new_Comment:_.Z_().required("Comment Field is Required")})),S=function(e,t){var n=t.setSubmitting,s={lead_activity_id:l,activity_id:e.follow_ups,comment:e.new_Comment};o(s).then((function(e){!0===e.succeeded?(i(),n(!1),a((0,w.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"success"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}}))):(n(!1),a((0,w.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"error"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}})))})).catch((function(){n(!1)}))},P=(0,C.TA)({initialValues:{follow_ups:"",new_Comment:""},onSubmit:S,validationSchema:y});return(0,k.jsx)("div",{children:(0,k.jsxs)(T,{open:n,TransitionComponent:R,maxWidth:"l",fullWidth:!0,sx:{"& .MuiDialog-paper":{width:"100%",maxWidth:"600px",top:"-100px"}},children:[(0,k.jsx)(I,{id:"customized-dialog-title",onClose:function(){i()},children:(0,k.jsx)(u.Z,{variant:"h6",component:"h6",sx:{pl:"10px",fontSize:"1em"},children:"Change Activity Status"})}),(0,k.jsx)(A(),{component:"div",style:{scrollbarWidth:"thin",scrollbarColor:"#b2b3b3 #f1f1f1",maxWidth:"100%"},children:(0,k.jsx)(p.Z,{dividers:!0,sx:{px:0},children:(0,k.jsx)(C.J9,{onSubmit:S,children:(0,k.jsxs)("form",{noValidate:!0,onSubmit:P.handleSubmit,children:[(0,k.jsxs)(h.ZP,{container:!0,spacing:2,sx:{p:"10px 30px"},children:[(0,k.jsxs)(h.ZP,{item:!0,xs:12,sx:{mb:0,alignItems:"left"},children:[(0,k.jsxs)(u.Z,{variant:"h5",sx:{width:"180px"},children:["Follow-Ups",(0,k.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,k.jsxs)(x.Z,{fullWidth:!0,name:"follow_ups",value:P.values.follow_ups?P.values.follow_ups:"",onChange:P.handleChange,error:P.touched.follow_ups&&Boolean(P.errors.follow_ups),helperText:P.touched.follow_ups&&P.errors.follow_ups,onBlur:P.handleBlur,displayEmpty:!0,style:{display:"flex",justifyContent:"flex-start",marginBottom:"5px ",marginTop:"5px "},children:[(0,k.jsx)(m.Z,{value:"",children:"Select Follow-Ups Status"}),null===d||void 0===d?void 0:d.map((function(e,t){return(0,k.jsx)(m.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.status_name},t)}))]}),P.touched.follow_ups&&P.errors.follow_ups&&(0,k.jsx)(v.Z,{error:!0,children:P.errors.follow_ups})]}),(0,k.jsxs)(h.ZP,{item:!0,xs:12,sx:{mb:0,alignItems:"left"},children:[(0,k.jsxs)(u.Z,{variant:"h5",sx:{width:"180px"},children:["Comment",(0,k.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,k.jsx)(f.Z,{fullWidth:!0,placeholder:"Enter Comment",type:"text",style:{display:"flex",justifyContent:"flex-start",marginBottom:"5px ",marginTop:"5px "},name:"new_Comment",value:P.values.new_Comment,onChange:P.handleChange,error:P.touched.new_Comment&&Boolean(P.errors.new_Comment),helperText:P.touched.new_Comment&&P.errors.new_Comment,onBlur:P.handleBlur})]})]}),(0,k.jsx)(j.Z,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,k.jsx)(W.Z,{scale:{hover:1.1,tap:.9},children:(0,k.jsx)(g.Z,{variant:"contained",color:"primary",type:"submit",disabled:P.isSubmitting,sx:{px:5,width:"100%",boxShadow:t.customShadows.primary,":hover":{boxShadow:"none"}},children:P.isSubmitting?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(Z.Z,{color:"inherit",size:20})}):"Submit"})})})]})})})})]})})}))},31039:function(e,t,n){var i=n(29439),o=n(45987),s=n(1413),r=n(47313),l=n(66135),a=n(50301),d=n(94469),c=n(33604),u=n(47131),p=n(61113),h=n(96467),x=n(9019),m=n(88797),v=n(51405),f=n(15480),j=n(9506),g=n(69099),Z=n(85281),y=n(11198),C=n(79429),_=n(3463),b=n(64224),w=n(5866),S=n(17592),M=n(19860),P=(n(61581),n(34229)),A=n.n(P),D=(n(17744),n(62831)),W=n(66182),k=n(46417),F=["children","onClose"],R=r.forwardRef((function(e,t){return(0,k.jsx)(a.Z,(0,s.Z)({direction:"left",ref:t},e))})),T=(0,S.ZP)(d.Z)((function(e){var t=e.theme;return{"& .css-adfesr-MuiModal-root-MuiDialog-root":{maxWidth:"100%"},"& .MuDialogContent-root":{padding:t.spacing(2)},"& .MuDialogActions-root":{padding:t.spacing(1)}}})),I=function(e){var t=e.children,n=e.onClose,i=(0,o.Z)(e,F);return(0,k.jsxs)(c.Z,(0,s.Z)((0,s.Z)({sx:{m:0,py:1,px:2}},i),{},{children:[t,n?(0,k.jsx)(u.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:10,top:10,color:function(e){return e.palette.grey[500]}},children:(0,k.jsx)(y.Z,{})}):null]}))};t.Z=(0,l.$j)(null,{UpdateLeadStatusApi:D.zZ})((function(e){var t=(0,M.Z)(),n=e.open,o=e.close,s=e.UpdateLeadStatusApi,a=e.leadStatusId,d=(e.projectStatusId,e.leadId),c=(0,b.I0)(),u=((0,r.useRef)(null),(0,l.v9)((function(e){return e.masterAction}))),y=u.leadStatusList,S=u.projectionStatusList;console.log("\ud83d\ude80leadStatusList:",y);var P=r.useState(!1),D=(0,i.Z)(P,2),F=D[0],B=D[1];(0,r.useEffect)((function(){var e=y.find((function(e){return e._id===a}));"Prospect"===(null===e||void 0===e?void 0:e.status_name)?B(!0):B(!1)}),[]);var z={lead_status:a,projection_status:""},U=function(){var e=_.Ry({lead_status:_.Z_().required("Status Field is Required")});return!0===F&&(e=e.shape({projection_status:_.Z_().required("Projection Status Field is Required")})),e}(),L=function(e,t){var n=t.setSubmitting,i={lead_id:d,lead_status:e.lead_status,projection_status:e.projection_status};s(i).then((function(e){!0===e.succeeded?(o(),n(!1),c((0,w.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"success"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}}))):(n(!1),c((0,w.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"error"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}})))})).catch((function(e){n(!1)}))},Y=(0,C.TA)({initialValues:z,onSubmit:L,validationSchema:U});return(0,k.jsx)("div",{children:(0,k.jsxs)(T,{open:n,TransitionComponent:R,maxWidth:"sm",fullWidth:!0,sx:{"& .MuiDialog-paper":{width:"100%",maxWidth:"500px"}},children:[(0,k.jsx)(I,{id:"customized-dialog-title",onClose:function(){o()},children:(0,k.jsx)(p.Z,{variant:"h6",component:"h6",sx:{pl:"10px",fontSize:"1em"},children:"Lead Status Update"})}),(0,k.jsx)(A(),{component:"div",style:{scrollbarWidth:"thin",scrollbarColor:"#b2b3b3 #f1f1f1",maxWidth:"100%"},children:(0,k.jsx)(h.Z,{dividers:!0,sx:{px:0},children:(0,k.jsx)(C.J9,{onSubmit:L,children:(0,k.jsxs)("form",{noValidate:!0,onSubmit:Y.handleSubmit,children:[(0,k.jsxs)(x.ZP,{container:!0,spacing:0,sx:{p:"10px 30px"},children:[(0,k.jsxs)(x.ZP,{item:!0,xs:12,sx:{mb:0,alignItems:"left"},children:[(0,k.jsxs)(p.Z,{variant:"h5",sx:{width:"180px"},children:["Status",(0,k.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,k.jsxs)(m.Z,{fullWidth:!0,name:"lead_status",value:Y.values.lead_status?Y.values.lead_status:"",onChange:function(e){var t=e.target,n=t.value;t.name;Y.setFieldValue("lead_status",n),"Prospect"===y.find((function(e){return e._id===n})).status_name?B(!0):B(!1)},error:Y.touched.lead_status&&Boolean(Y.errors.lead_status),helperText:Y.touched.lead_status&&Y.errors.lead_status,onBlur:Y.handleBlur,displayEmpty:!0,style:{display:"flex",justifyContent:"flex-start",marginBottom:"5px ",marginTop:"5px "},children:[(0,k.jsx)(v.Z,{value:"",children:"Select Status"}),null===y||void 0===y?void 0:y.map((function(e,t){return(0,k.jsx)(v.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.status_name},t)}))]}),Y.touched.lead_status&&Y.errors.lead_status&&(0,k.jsx)(f.Z,{error:!0,children:Y.errors.lead_status})]}),F?(0,k.jsxs)(x.ZP,{item:!0,xs:12,sx:{mt:1,alignItems:"left"},children:[(0,k.jsxs)(p.Z,{variant:"h5",sx:{width:"180px"},children:["Projection Status",(0,k.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,k.jsxs)(m.Z,{fullWidth:!0,name:"projection_status",value:Y.values.projection_status?Y.values.projection_status:"",onChange:Y.handleChange,error:Y.touched.projection_status&&Boolean(Y.errors.projection_status),helperText:Y.touched.projection_status&&Y.errors.projection_status,onBlur:Y.handleBlur,displayEmpty:!0,style:{display:"flex",justifyContent:"flex-start",marginBottom:"5px ",marginTop:"5px "},children:[(0,k.jsx)(v.Z,{value:"",children:"Select Status"}),null===S||void 0===S?void 0:S.map((function(e,t){return(0,k.jsx)(v.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.status_name},t)}))]}),Y.touched.projection_status&&Y.errors.projection_status&&(0,k.jsx)(f.Z,{error:!0,children:Y.errors.projection_status})]}):""]}),(0,k.jsx)(j.Z,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,k.jsx)(W.Z,{scale:{hover:1.1,tap:.9},children:(0,k.jsx)(g.Z,{variant:"contained",color:"primary",type:"submit",disabled:Y.isSubmitting,sx:{px:5,width:"100%",boxShadow:t.customShadows.primary,":hover":{boxShadow:"none"}},children:Y.isSubmitting?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(Z.Z,{color:"inherit",size:20})}):"Submit"})})})]})})})})]})})}))},10533:function(e,t,n){var i=n(45987),o=n(1413),s=n(47313),r=n(66135),l=n(50301),a=n(94469),d=n(33604),c=n(47131),u=n(61113),p=n(96467),h=n(9019),x=n(88797),m=n(51405),v=n(15480),f=n(9506),j=n(69099),g=n(85281),Z=n(11198),y=n(79429),C=n(3463),_=n(64224),b=n(5866),w=n(17592),S=n(19860),M=(n(61581),n(34229)),P=n.n(M),A=(n(17744),n(62831)),D=n(66182),W=n(46417),k=["children","onClose"],F=s.forwardRef((function(e,t){return(0,W.jsx)(l.Z,(0,o.Z)({direction:"left",ref:t},e))})),R=(0,w.ZP)(a.Z)((function(e){var t=e.theme;return{"& .css-adfesr-MuiModal-root-MuiDialog-root":{maxWidth:"100%"},"& .MuDialogContent-root":{padding:t.spacing(2)},"& .MuDialogActions-root":{padding:t.spacing(1)}}})),T=function(e){var t=e.children,n=e.onClose,s=(0,i.Z)(e,k);return(0,W.jsxs)(d.Z,(0,o.Z)((0,o.Z)({sx:{m:0,py:1,px:2}},s),{},{children:[t,n?(0,W.jsx)(c.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:10,top:10,color:function(e){return e.palette.grey[500]}},children:(0,W.jsx)(Z.Z,{})}):null]}))};t.Z=(0,r.$j)(null,{UpdateProjectionStatusApi:A.F})((function(e){var t=(0,S.Z)(),n=e.open,i=e.close,o=e.UpdateProjectionStatusApi,l=e.projectStatusId,a=e.leadId,d=(0,_.I0)(),c=((0,s.useRef)(null),(0,r.v9)((function(e){return e.masterAction})).projectionStatusList),Z={projection_status:l},w=C.Ry({projection_status:C.Z_().required("Projection Status Field is Required")}),M=function(e,t){var n=t.setSubmitting,s={lead_id:a,projection_status:e.projection_status};o(s).then((function(e){!0===e.succeeded?(i(),n(!1),d((0,b.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"success"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}}))):(n(!1),d((0,b.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"error"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}})))})).catch((function(e){n(!1)}))},A=(0,y.TA)({initialValues:Z,onSubmit:M,validationSchema:w});return(0,W.jsx)("div",{children:(0,W.jsxs)(R,{open:n,TransitionComponent:F,maxWidth:"sm",fullWidth:!0,sx:{"& .MuiDialog-paper":{width:"100%",maxWidth:"500px"}},children:[(0,W.jsx)(T,{id:"customized-dialog-title",onClose:function(){i()},children:(0,W.jsx)(u.Z,{variant:"h6",component:"h6",sx:{pl:"10px",fontSize:"1em"},children:"Lead Projection Status Update"})}),(0,W.jsx)(P(),{component:"div",style:{scrollbarWidth:"thin",scrollbarColor:"#b2b3b3 #f1f1f1",maxWidth:"100%"},children:(0,W.jsx)(p.Z,{dividers:!0,sx:{px:0},children:(0,W.jsx)(y.J9,{onSubmit:M,children:(0,W.jsxs)("form",{noValidate:!0,onSubmit:A.handleSubmit,children:[(0,W.jsx)(h.ZP,{container:!0,spacing:0,sx:{p:"10px 30px"},children:(0,W.jsxs)(h.ZP,{item:!0,xs:12,sx:{mb:0,alignItems:"left"},children:[(0,W.jsxs)(u.Z,{variant:"h5",sx:{width:"180px"},children:["Projection Status",(0,W.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,W.jsxs)(x.Z,{fullWidth:!0,name:"projection_status",value:A.values.projection_status?A.values.projection_status:"",onChange:A.handleChange,error:A.touched.projection_status&&Boolean(A.errors.projection_status),helperText:A.touched.projection_status&&A.errors.projection_status,onBlur:A.handleBlur,displayEmpty:!0,style:{display:"flex",justifyContent:"flex-start",marginBottom:"5px ",marginTop:"5px "},children:[(0,W.jsx)(m.Z,{value:"",children:"Select Status"}),null===c||void 0===c?void 0:c.map((function(e,t){return(0,W.jsx)(m.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.status_name},t)}))]}),A.touched.projection_status&&A.errors.projection_status&&(0,W.jsx)(v.Z,{error:!0,children:A.errors.projection_status})]})}),(0,W.jsx)(f.Z,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,W.jsx)(D.Z,{scale:{hover:1.1,tap:.9},children:(0,W.jsx)(j.Z,{variant:"contained",color:"primary",type:"submit",disabled:A.isSubmitting,sx:{px:5,width:"100%",boxShadow:t.customShadows.primary,":hover":{boxShadow:"none"}},children:A.isSubmitting?(0,W.jsx)(W.Fragment,{children:(0,W.jsx)(g.Z,{color:"inherit",size:20})}):"Submit"})})})]})})})})]})})}))}}]);