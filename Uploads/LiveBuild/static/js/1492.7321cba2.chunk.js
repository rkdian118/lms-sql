"use strict";(self.webpackChunklms_admin=self.webpackChunklms_admin||[]).push([[1492],{14694:function(e,t,n){n(47313),n(89535),n(46417),n(5242)},51492:function(e,t,n){n.r(t),n.d(t,{default:function(){return ae}});var r=n(1413),i=n(29439),a=n(47313),l=n(19860),o=n(35898),s=n(9019),c=n(42695),d=n(24631),u=n(69099),p=n(73428),x=n(51629),h=n(66835),g=n(23477),m=n(24076),f=n(67478),Z=n(57861),j=n(61113),v=n(33497),b=(n(1759),n(22903),n(1834)),S=n(64224),y=n(66135),C=n(70816),_=n.n(C),T=n(11692),w=(n(56052),n(62831)),M=(n(36287),n(45987)),k=n(17592),D=n(50301),P=n(94469),F=n(33604),I=n(47131),R=n(96467),z=n(9506),A=n(85281),W=n(11198),B=n(79429),Y=n(3463),E=n(5866),O=n(34229),U=n.n(O),V=(n(61581),n(86728)),J=(n(42805),n(74031)),L=n(27754),q=n(46417),G=["children","onClose"],K=a.forwardRef((function(e,t){return(0,q.jsx)(D.Z,(0,r.Z)({direction:"down",ref:t},e))})),$=(0,k.ZP)(P.Z)((function(e){var t=e.theme;return{"& .MuDialogContent-root":{padding:t.spacing(2)},"& .MuDialogActions-root":{padding:t.spacing(1)}}})),H=function(e){var t=e.children,n=e.onClose,i=(0,M.Z)(e,G);return(0,q.jsxs)(F.Z,(0,r.Z)((0,r.Z)({sx:{m:0,py:1,px:2}},i),{},{children:[t,n?(0,q.jsx)(I.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:10,top:10,color:function(e){return e.palette.grey[500]}},children:(0,q.jsx)(W.Z,{})}):null]}))},Q=((0,y.$j)(null,{UpdateBdTargetsApi:L.QQ})((function(e){(0,V.Z)();var t=e.open,n=e.close,r=e.UpdateBdTargetsApi,l=e.totalTarget,o=e.targetId,c=(0,S.I0)(),p=((0,a.useRef)(null),(0,a.useState)(!1)),x=(0,i.Z)(p,2),h=(x[0],x[1],(0,a.useState)(!1)),g=(0,i.Z)(h,2),m=(g[0],g[1]),f=(0,a.useState)(""),Z=(0,i.Z)(f,2),v=(Z[0],Z[1],(0,a.useState)("")),b=(0,i.Z)(v,2),y=(b[0],b[1],(0,a.useState)(!1)),C=(0,i.Z)(y,2),_=(C[0],C[1],(0,a.useState)([])),T=(0,i.Z)(_,2),w=(T[0],T[1],(0,a.useState)("")),M=(0,i.Z)(w,2),k=(M[0],M[1],(0,a.useState)("")),D=(0,i.Z)(k,2),P=(D[0],D[1],(0,a.useState)("")),F=(0,i.Z)(P,2),I=(F[0],F[1],(0,a.useState)("")),W=(0,i.Z)(I,2),O=(W[0],W[1],(0,a.useState)("")),L=(0,i.Z)(O,2),G=(L[0],L[1],{target_total:l}),Q=Y.Ry({target_total:Y.Z_().required("Targets Field is Required")}),N=(0,B.TA)({enableReinitialize:!0,initialValues:G,validationSchema:Q,onSubmit:function(e,t){var i=t.setSubmitting,a={target_id:o,targets:e.target_total};m(!0),r(a).then((function(e){!0===e.succeeded?(n(),m(!1),i(!1),c((0,E.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"success"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}}))):(m(!1),i(!1),c((0,E.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"error"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}})))}))}});return(0,q.jsx)("div",{children:(0,q.jsxs)($,{open:t,"aria-labelledby":"customized-dialog-title",TransitionComponent:K,maxWidth:"xl",fullWidth:!0,sx:{"& .MuiDialog-paper":{width:"100%",maxWidth:"500px",padding:"0px",top:"-100px"}},children:[(0,q.jsx)(H,{id:"customized-dialog-title",onClose:function(){n()},sx:{background:"#e0f4ff"},children:(0,q.jsx)(j.Z,{variant:"h6",component:"h6",sx:{pl:"10px",fontSize:"1em",color:"#468ccc"},align:"center",children:"Edit Targets"})}),(0,q.jsx)(U(),{component:"div",style:{scrollbarWidth:"thin",scrollbarColor:"#ff0000 #f1f1f1"},children:(0,q.jsx)(R.Z,{dividers:!0,sx:{px:0},children:(0,q.jsx)(B.J9,{children:(0,q.jsxs)("form",{noValidate:!0,onSubmit:N.handleSubmit,children:[(0,q.jsx)(s.ZP,{container:!0,spacing:2,sx:{p:"10px 30px"},children:(0,q.jsxs)(s.ZP,{item:!0,xs:12,sx:{mb:0,alignItems:"left"},children:[(0,q.jsxs)(j.Z,{variant:"h5",sx:{width:"180px"},children:["Target",(0,q.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,q.jsx)(d.Z,{fullWidth:!0,placeholder:"Enter Target",type:"number",InputLabelProps:{shrink:!0},style:{display:"flex",justifyContent:"flex-start",marginBottom:"5px ",marginTop:"5px "},name:"target_total",onKeyDown:J.JR,value:N.values.target_total,onChange:N.handleChange,error:N.touched.target_total&&Boolean(N.errors.target_total),helperText:N.touched.target_total&&N.errors.target_total,onBlur:N.handleBlur})]})}),(0,q.jsx)(z.Z,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,q.jsx)(u.Z,{size:"small",type:"submit",variant:"contained",color:"secondary",disabled:N.isSubmitting,sx:{pl:2,borderRadius:"10px",width:"20%",color:"#468ccc",background:"#e0f4ff",height:"35px","&:hover":{background:"#468ccc",color:"#e0f4ff"}},children:N.isSubmitting?(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(A.Z,{color:"inherit",size:20})}):"Update"})})]})})})})]})})})),["children","onClose"]),N=a.forwardRef((function(e,t){return(0,q.jsx)(D.Z,(0,r.Z)({direction:"down",ref:t},e))})),X=(0,k.ZP)(P.Z)((function(e){var t=e.theme;return{"& .MuDialogContent-root":{padding:t.spacing(2)},"& .MuDialogActions-root":{padding:t.spacing(1)}}})),ee=function(e){var t=e.children,n=e.onClose,i=(0,M.Z)(e,Q);return(0,q.jsxs)(F.Z,(0,r.Z)((0,r.Z)({sx:{m:0,py:1,px:2}},i),{},{children:[t,n?(0,q.jsx)(I.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:10,top:10,color:function(e){return e.palette.grey[500]}},children:(0,q.jsx)(W.Z,{})}):null]}))},te=((0,y.$j)(null,{UpdateCompleteTargetsApi:L.iH})((function(e){(0,V.Z)();var t=e.open,n=e.close,r=e.UpdateCompleteTargetsApi,l=(e.completeTarget,e.bdId),o=e.targetId,c=(0,S.I0)(),p=((0,a.useRef)(null),(0,a.useState)(!1)),x=(0,i.Z)(p,2),h=(x[0],x[1],(0,a.useState)(!1)),g=(0,i.Z)(h,2),m=(g[0],g[1]),f=(0,a.useState)(""),Z=(0,i.Z)(f,2),v=(Z[0],Z[1],(0,a.useState)("")),b=(0,i.Z)(v,2),y=(b[0],b[1],(0,a.useState)(!1)),C=(0,i.Z)(y,2),_=(C[0],C[1],(0,a.useState)([])),T=(0,i.Z)(_,2),w=(T[0],T[1],(0,a.useState)("")),M=(0,i.Z)(w,2),k=(M[0],M[1],(0,a.useState)("")),D=(0,i.Z)(k,2),P=(D[0],D[1],(0,a.useState)("")),F=(0,i.Z)(P,2),I=(F[0],F[1],(0,a.useState)("")),W=(0,i.Z)(I,2),O=(W[0],W[1],(0,a.useState)("")),L=(0,i.Z)(O,2),G=(L[0],L[1],Y.Ry({complete_target:Y.Z_().required("Completed Target Field is Required")})),K=(0,B.TA)({enableReinitialize:!0,initialValues:{complete_target:""},validationSchema:G,onSubmit:function(e,t){var i=t.setSubmitting,a={target_id:o,complete_target:e.complete_target,bd_id:l};m(!0),r(a).then((function(e){!0===e.succeeded?(n(),m(!1),i(!1),c((0,E.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"success"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}}))):(m(!1),i(!1),c((0,E.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"error"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}})))})).catch((function(){i(!1)}))}});return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(X,{open:t,"aria-labelledby":"customized-dialog-title",TransitionComponent:N,maxWidth:"xl",fullWidth:!0,sx:{"& .MuiDialog-paper":{width:"100%",maxWidth:"500px",padding:"0px",top:"-100px"}},children:[(0,q.jsx)(ee,{id:"customized-dialog-title",onClose:function(){n()},sx:{background:"#e0f4ff"},children:(0,q.jsx)(j.Z,{variant:"h6",component:"h6",sx:{pl:"10px",fontSize:"1em",color:"#468ccc"},align:"center",children:"Edit Completed Targets"})}),(0,q.jsx)(U(),{component:"div",style:{scrollbarWidth:"thin",scrollbarColor:"#ff0000 #f1f1f1"},children:(0,q.jsx)(R.Z,{dividers:!0,sx:{px:0},children:(0,q.jsx)(B.J9,{children:(0,q.jsxs)("form",{noValidate:!0,onSubmit:K.handleSubmit,children:[(0,q.jsx)(s.ZP,{container:!0,spacing:2,sx:{p:"10px 30px"},children:(0,q.jsxs)(s.ZP,{item:!0,xs:12,sx:{mb:0,alignItems:"left"},children:[(0,q.jsxs)(j.Z,{variant:"h5",sx:{width:"180px"},children:["Completed Target",(0,q.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,q.jsx)(d.Z,{fullWidth:!0,placeholder:"Enter Target",type:"number",InputLabelProps:{shrink:!0},style:{display:"flex",justifyContent:"flex-start",marginBottom:"5px ",marginTop:"5px "},name:"complete_target",onKeyDown:J.JR,value:K.values.complete_target,onChange:K.handleChange,error:K.touched.complete_target&&Boolean(K.errors.complete_target),helperText:K.touched.complete_target&&K.errors.complete_target,onBlur:K.handleBlur})]})}),(0,q.jsx)(z.Z,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,q.jsx)(u.Z,{size:"small",type:"submit",variant:"contained",color:"secondary",disabled:K.isSubmitting,sx:{pl:2,borderRadius:"10px",width:"20%",color:"#468ccc",background:"#e0f4ff",height:"35px","&:hover":{background:"#468ccc",color:"#e0f4ff"}},children:K.isSubmitting?(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(A.Z,{color:"inherit",size:20})}):"Update"})})]})})})})]})})})),n(28686)),ne=n(43394),re=n(44948),ie=n(12401),ae=(n(14694),n(89535),(0,y.$j)(null,{FilterTargetsApi:w.UI})((function(e){var t=e.FilterTargetsApi,n=(0,l.Z)(),C=(0,a.useState)(0),w=(0,i.Z)(C,2),M=(w[0],w[1],(0,a.useState)(10)),k=(0,i.Z)(M,2),D=(k[0],k[1],(0,a.useState)(!1)),P=(0,i.Z)(D,2),F=(P[0],P[1],(0,a.useState)("")),I=(0,i.Z)(F,2),R=(I[0],I[1],(0,y.v9)((function(e){return e.businessAction}))),z=R.getFilterTargetDetails,A=R.getFilterTargetDetailsLoading,W=(0,a.useState)(""),Y=(0,i.Z)(W,2),O=(Y[0],Y[1],(0,y.v9)((function(e){return e.masterAction})).leadStatusList,(0,a.useState)([])),U=(0,i.Z)(O,2),V=(U[0],U[1],(0,a.useState)(!1)),L=(0,i.Z)(V,2),G=L[0],K=(L[1],{selectedMonth:[],selectedBDE:[],selectedYear:new Date,isClusterTarg:!1}),$=(0,B.TA)({initialValues:K,onSubmit:function(e,n){var r=n.setSubmitting,i={selectedMonth:e.selectedMonth,selectedYear:null!==e.selectedYear?_()(null===e||void 0===e?void 0:e.selectedYear).format("YYYY"):new Date};t(i).then((function(e){!0===e.succeeded?(r(!1),(0,S.WI)((0,E.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"success"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}}))):(r(!1),(0,S.WI)((0,E.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"error"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}})))})).catch((function(){r(!1)}))}});(0,a.useEffect)((function(){var e={selectedMonth:$.selectedMonth,selectedYear:null!==$.selectedYear?$.selectedYear:""};t(e)}),[]);function H(e,t,n,r,i){return{name:e,calories:t,fat:n,carbs:r,protein:i}}H("Jan",3500,0,-3500),H("Fab",7e3,0,-7e3),H("Marc",10500,0,-10500);return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(v.Z,{content:!1,title:(0,q.jsxs)(o.Z,{direction:"row",children:[(0,q.jsx)(b.bTo,{})," \xa0 BDE Targets"]}),sx:{border:"0px solid",padding:"5px"},children:(0,q.jsxs)(s.ZP,{container:!0,spacing:2,sx:{"&.MuiGrid-root":{pt:0}},children:[(0,q.jsx)(s.ZP,{item:!0,xs:3,md:3,sx:{mb:2,alignItems:"left"},children:(0,q.jsx)("form",{onSubmit:$.handleSubmit,children:(0,q.jsxs)(s.ZP,{container:!0,spacing:ie.dv,sx:{mt:1,px:2},children:[(0,q.jsx)(s.ZP,{item:!0,xs:12,sx:{mb:0,alignItems:"left"},children:(0,q.jsx)(c.Z,{id:"month-select",fullWidth:!0,multiple:!0,options:J.e7,getOptionLabel:function(e){return e.label},value:J.e7.filter((function(e){return $.values.selectedMonth.includes(e.label)})),onChange:function(e,t){var n=t.some((function(e){return"All Months"===e.label}))?J.e7.slice(1):t.map((function(e){return e.label}));$.setFieldValue("selectedMonth",n)},renderInput:function(e){return(0,q.jsx)(d.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Select Month",inputProps:(0,r.Z)((0,r.Z)({},e.inputProps),{},{autoComplete:"off"})}))}})}),(0,q.jsx)(s.ZP,{item:!0,xs:12,sx:{mb:0,alignItems:"left"},children:(0,q.jsx)(ne._,{dateAdapter:te.H,children:(0,q.jsx)(re.M,{views:["year"],renderInput:function(e){return(0,q.jsx)(d.Z,(0,r.Z)((0,r.Z)({fullWidth:!0},e),{},{inputProps:(0,r.Z)((0,r.Z)({},e.inputProps),{},{autoComplete:"off"}),onKeyDown:function(e){return e.preventDefault()}}))},value:$.values.selectedYear,onChange:function(e){$.setFieldValue("selectedYear",e)},maxDate:new Date,minDate:new Date("2000-01-01")})})}),(0,q.jsx)(s.ZP,{item:!0,xs:12,sx:{mb:0,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,q.jsx)(u.Z,{size:"small",type:"submit",variant:"contained",color:"secondary",sx:{pl:2,borderRadius:"10px",width:"50%",color:"#468ccc",background:"#e0f4ff",height:"35px",boxShadow:"4","&:hover":{background:"#468ccc",color:"#e0f4ff",boxShadow:"16"}},children:"Go Filter"})})]})})}),(0,q.jsx)(s.ZP,{item:!0,xs:9,md:9,sx:{mb:2,alignItems:"left"},children:(0,q.jsx)(s.ZP,{container:!0,spacing:2,sx:{mt:0},children:!A&&(null===z||void 0===z?void 0:z.length)>0?null===z||void 0===z?void 0:z.map((function(e,t){var r,i,a,l,o=null===e||void 0===e||null===(r=e.targData)||void 0===r?void 0:r.reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.targets)||0}),0),c=null===e||void 0===e||null===(i=e.targData)||void 0===i?void 0:i.reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.completed_target)||0}),0),d=null===e||void 0===e||null===(a=e.targData)||void 0===a?void 0:a.reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.remaining_target)||0}),0);return(0,q.jsx)(s.ZP,{item:!0,xs:6,md:G?4:6,sx:{mb:0,alignItems:"left"},children:(0,q.jsx)(p.Z,{sx:{p:2,background:"dark"===n.palette.mode?n.palette.dark.main:n.palette.grey[50],border:"dark"===n.palette.mode?"1px solid transparent":"1px solid".concat(n.palette.grey[100]),"&:hover":{borderColor:n.palette.primary.main}},children:(0,q.jsx)(x.Z,{children:(0,q.jsxs)(h.Z,{children:[(0,q.jsxs)(g.Z,{children:[(0,q.jsxs)(m.Z,{children:[(0,q.jsx)(f.Z,{sx:{pl:0},children:"Monthly Sales Projection"}),(0,q.jsx)(f.Z,{colSpan:3,align:"center",children:null===e||void 0===e?void 0:e.name})]}),(0,q.jsxs)(m.Z,{children:[(0,q.jsx)(f.Z,{sx:{p:0},children:"Month"}),(0,q.jsx)(f.Z,{align:"center",sx:{px:0,py:1},children:"Target"}),(0,q.jsx)(f.Z,{align:"center",sx:{px:0,py:1},children:"Confirm Business"}),(0,q.jsx)(f.Z,{align:"center",sx:{px:0,py:1},children:"Gap"})]})]}),(0,q.jsxs)(Z.Z,{children:[null===e||void 0===e||null===(l=e.targData)||void 0===l?void 0:l.map((function(e,t){return(0,q.jsxs)(m.Z,{hover:!0,children:[(0,q.jsx)(f.Z,{sx:{p:0},component:"th",scope:"row",children:null===e||void 0===e?void 0:e.target_month}),(0,q.jsx)(f.Z,{align:"center",sx:{px:0,py:1},children:null===e||void 0===e?void 0:e.total_target}),(0,q.jsx)(f.Z,{align:"center",sx:{px:0,py:1},children:null===e||void 0===e?void 0:e.completed_target}),(0,q.jsx)(f.Z,{align:"center",sx:{px:0,py:1},children:null===e||void 0===e?void 0:e.remaining_target})]},t)})),(0,q.jsxs)(m.Z,{hover:!0,children:[(0,q.jsx)(f.Z,{sx:{pl:0,fontWeight:500},component:"th",scope:"row",children:"Total"}),(0,q.jsx)(f.Z,{align:"center",children:o}),(0,q.jsx)(f.Z,{align:"center",children:c}),(0,q.jsx)(f.Z,{align:"center",children:d})]})]})]})})})},t)})):(0,q.jsx)(q.Fragment,{children:!0===A?(0,q.jsx)(x.Z,{children:(0,q.jsx)(h.Z,{children:(0,q.jsx)(T._A,{rows:5})})}):(0,q.jsx)(s.ZP,{item:!0,xs:12,md:12,sx:{mb:0,alignItems:"left"},children:(0,q.jsx)(p.Z,{sx:{p:2,background:"dark"===n.palette.mode?n.palette.dark.main:n.palette.grey[50],border:"dark"===n.palette.mode?"1px solid transparent":"1px solid".concat(n.palette.grey[100]),"&:hover":{borderColor:n.palette.primary.main}},children:(0,q.jsx)(j.Z,{sx:{pr:3},align:"center",colSpan:10,children:"Targts Not Found"})})})})})})]})})})})))}}]);