"use strict";(self.webpackChunklms_admin=self.webpackChunklms_admin||[]).push([[8940],{42805:function(e,t,n){var r=n(29439),i=n(47313),l=n(9019),a=n(46417);t.Z=function(e){var t=e.file,n=i.useState(null),o=(0,r.Z)(n,2),s=o[0],d=o[1],c=new FileReader;return c.readAsDataURL(t),c.onload=function(){t&&t.name.match(/\.(jpg|jpeg|png|svg|svg+xml|JPG|JPEG|PNG|SVG|SVG+XML)$/)?d(c.result):d(null)},(0,a.jsx)(l.ZP,{children:s&&(0,a.jsx)("img",{src:s,alt:"preview",width:"150px",height:"auto",style:{borderRadius:"5px"}})})}},58940:function(e,t,n){n.r(t),n.d(t,{default:function(){return de}});var r=n(1413),i=n(4942),l=n(29439),a=n(47313),o=n(19860),s=n(17592),d=n(24076),c=n(67478),u=n(47131),g=n(65033),h=n(9506),p=n(51629),x=n(66835),Z=n(57861),m=n(49914),f=n(48119),j=n(35898),v=n(42695),b=n(24631),y=n(23477),S=n(91034),_=n(33497),T=n(1759),w=(n(49726),n(29428)),C=n(3665),P=n(1834),k=(n(62831),n(64224)),z=n(66135),R=(n(70816),n(11692)),W=(n(56052),n(36541)),A=n(27754),I=(n(36287),n(45987)),L=n(50301),M=n(94469),F=n(33604),B=n(61113),D=n(96467),E=n(9019),U=n(69099),O=n(85281),G=n(11198),J=n(79429),V=n(3463),q=n(5866),K=n(34229),$=n.n(K),H=(n(61581),n(86728)),N=(n(42805),n(74031)),Q=n(46417),X=["children","onClose"],Y=a.forwardRef((function(e,t){return(0,Q.jsx)(L.Z,(0,r.Z)({direction:"down",ref:t},e))})),ee=(0,s.ZP)(M.Z)((function(e){var t=e.theme;return{"& .MuDialogContent-root":{padding:t.spacing(2)},"& .MuDialogActions-root":{padding:t.spacing(1)}}})),te=function(e){var t=e.children,n=e.onClose,i=(0,I.Z)(e,X);return(0,Q.jsxs)(F.Z,(0,r.Z)((0,r.Z)({sx:{m:0,py:1,px:2}},i),{},{children:[t,n?(0,Q.jsx)(u.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:10,top:10,color:function(e){return e.palette.grey[500]}},children:(0,Q.jsx)(G.Z,{})}):null]}))},ne=(0,z.$j)(null,{UpdateBdTargetsApi:A.QQ})((function(e){(0,H.Z)();var t=e.open,n=e.close,r=e.UpdateBdTargetsApi,i=e.totalTarget,o=e.targetId,s=(0,k.I0)(),d=((0,a.useRef)(null),(0,a.useState)(!1)),c=(0,l.Z)(d,2),u=(c[0],c[1],(0,a.useState)(!1)),g=(0,l.Z)(u,2),p=(g[0],g[1]),x=(0,a.useState)(""),Z=(0,l.Z)(x,2),m=(Z[0],Z[1],(0,a.useState)("")),f=(0,l.Z)(m,2),j=(f[0],f[1],(0,a.useState)(!1)),v=(0,l.Z)(j,2),y=(v[0],v[1],(0,a.useState)([])),S=(0,l.Z)(y,2),_=(S[0],S[1],(0,a.useState)("")),T=(0,l.Z)(_,2),w=(T[0],T[1],(0,a.useState)("")),C=(0,l.Z)(w,2),P=(C[0],C[1],(0,a.useState)("")),z=(0,l.Z)(P,2),R=(z[0],z[1],(0,a.useState)("")),W=(0,l.Z)(R,2),A=(W[0],W[1],(0,a.useState)("")),I=(0,l.Z)(A,2),L=(I[0],I[1],{target_total:i}),M=V.Ry({target_total:V.Z_().required("Targets Field is Required")}),F=(0,J.TA)({enableReinitialize:!0,initialValues:L,validationSchema:M,onSubmit:function(e,t){var i=t.setSubmitting,l={target_id:o,targets:e.target_total};p(!0),r(l).then((function(e){!0===e.succeeded?(n(),p(!1),i(!1),s((0,q.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"success"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}}))):(p(!1),i(!1),s((0,q.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"error"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}})))}))}});return(0,Q.jsx)("div",{children:(0,Q.jsxs)(ee,{open:t,"aria-labelledby":"customized-dialog-title",TransitionComponent:Y,maxWidth:"xl",fullWidth:!0,sx:{"& .MuiDialog-paper":{width:"100%",maxWidth:"500px",padding:"0px",top:"-100px"}},children:[(0,Q.jsx)(te,{id:"customized-dialog-title",onClose:function(){n()},sx:{background:"#e0f4ff"},children:(0,Q.jsx)(B.Z,{variant:"h6",component:"h6",sx:{pl:"10px",fontSize:"1em",color:"#468ccc"},align:"center",children:"Edit Targets"})}),(0,Q.jsx)($(),{component:"div",style:{scrollbarWidth:"thin",scrollbarColor:"#ff0000 #f1f1f1"},children:(0,Q.jsx)(D.Z,{dividers:!0,sx:{px:0},children:(0,Q.jsx)(J.J9,{children:(0,Q.jsxs)("form",{noValidate:!0,onSubmit:F.handleSubmit,children:[(0,Q.jsx)(E.ZP,{container:!0,spacing:2,sx:{p:"10px 30px"},children:(0,Q.jsxs)(E.ZP,{item:!0,xs:12,sx:{mb:0,alignItems:"left"},children:[(0,Q.jsxs)(B.Z,{variant:"h5",sx:{width:"180px"},children:["Target",(0,Q.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,Q.jsx)(b.Z,{fullWidth:!0,placeholder:"Enter Target",type:"number",InputLabelProps:{shrink:!0},style:{display:"flex",justifyContent:"flex-start",marginBottom:"5px ",marginTop:"5px "},name:"target_total",onKeyDown:N.JR,value:F.values.target_total,onChange:F.handleChange,error:F.touched.target_total&&Boolean(F.errors.target_total),helperText:F.touched.target_total&&F.errors.target_total,onBlur:F.handleBlur})]})}),(0,Q.jsx)(h.Z,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,Q.jsx)(U.Z,{size:"small",type:"submit",variant:"contained",color:"secondary",disabled:F.isSubmitting,sx:{pl:2,borderRadius:"10px",width:"20%",color:"#468ccc",background:"#e0f4ff",height:"35px","&:hover":{background:"#468ccc",color:"#e0f4ff"}},children:F.isSubmitting?(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsx)(O.Z,{color:"inherit",size:20})}):"Update"})})]})})})})]})})})),re=["children","onClose"],ie=a.forwardRef((function(e,t){return(0,Q.jsx)(L.Z,(0,r.Z)({direction:"down",ref:t},e))})),le=(0,s.ZP)(M.Z)((function(e){var t=e.theme;return{"& .MuDialogContent-root":{padding:t.spacing(2)},"& .MuDialogActions-root":{padding:t.spacing(1)}}})),ae=function(e){var t=e.children,n=e.onClose,i=(0,I.Z)(e,re);return(0,Q.jsxs)(F.Z,(0,r.Z)((0,r.Z)({sx:{m:0,py:1,px:2}},i),{},{children:[t,n?(0,Q.jsx)(u.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:10,top:10,color:function(e){return e.palette.grey[500]}},children:(0,Q.jsx)(G.Z,{})}):null]}))},oe=(0,z.$j)(null,{UpdateCompleteTargetsApi:A.iH})((function(e){(0,H.Z)();var t=e.open,n=e.close,r=e.UpdateCompleteTargetsApi,i=(e.completeTarget,e.bdId),o=e.targetId,s=(0,k.I0)(),d=((0,a.useRef)(null),(0,a.useState)(!1)),c=(0,l.Z)(d,2),u=(c[0],c[1],(0,a.useState)(!1)),g=(0,l.Z)(u,2),p=(g[0],g[1]),x=(0,a.useState)(""),Z=(0,l.Z)(x,2),m=(Z[0],Z[1],(0,a.useState)("")),f=(0,l.Z)(m,2),j=(f[0],f[1],(0,a.useState)(!1)),v=(0,l.Z)(j,2),y=(v[0],v[1],(0,a.useState)([])),S=(0,l.Z)(y,2),_=(S[0],S[1],(0,a.useState)("")),T=(0,l.Z)(_,2),w=(T[0],T[1],(0,a.useState)("")),C=(0,l.Z)(w,2),P=(C[0],C[1],(0,a.useState)("")),z=(0,l.Z)(P,2),R=(z[0],z[1],(0,a.useState)("")),W=(0,l.Z)(R,2),A=(W[0],W[1],(0,a.useState)("")),I=(0,l.Z)(A,2),L=(I[0],I[1],V.Ry({complete_target:V.Z_().required("Completed Target Field is Required")})),M=(0,J.TA)({enableReinitialize:!0,initialValues:{complete_target:""},validationSchema:L,onSubmit:function(e,t){var l=t.setSubmitting,a={target_id:o,complete_target:e.complete_target,bd_id:i};p(!0),r(a).then((function(e){!0===e.succeeded?(n(),p(!1),l(!1),s((0,q.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"success"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}}))):(p(!1),l(!1),s((0,q.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"error"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}})))})).catch((function(){l(!1)}))}});return(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsxs)(le,{open:t,"aria-labelledby":"customized-dialog-title",TransitionComponent:ie,maxWidth:"xl",fullWidth:!0,sx:{"& .MuiDialog-paper":{width:"100%",maxWidth:"500px",padding:"0px",top:"-100px"}},children:[(0,Q.jsx)(ae,{id:"customized-dialog-title",onClose:function(){n()},sx:{background:"#e0f4ff"},children:(0,Q.jsx)(B.Z,{variant:"h6",component:"h6",sx:{pl:"10px",fontSize:"1em",color:"#468ccc"},align:"center",children:"Edit Completed Targets"})}),(0,Q.jsx)($(),{component:"div",style:{scrollbarWidth:"thin",scrollbarColor:"#ff0000 #f1f1f1"},children:(0,Q.jsx)(D.Z,{dividers:!0,sx:{px:0},children:(0,Q.jsx)(J.J9,{children:(0,Q.jsxs)("form",{noValidate:!0,onSubmit:M.handleSubmit,children:[(0,Q.jsx)(E.ZP,{container:!0,spacing:2,sx:{p:"10px 30px"},children:(0,Q.jsxs)(E.ZP,{item:!0,xs:12,sx:{mb:0,alignItems:"left"},children:[(0,Q.jsxs)(B.Z,{variant:"h5",sx:{width:"180px"},children:["Completed Target",(0,Q.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,Q.jsx)(b.Z,{fullWidth:!0,placeholder:"Enter Target",type:"number",InputLabelProps:{shrink:!0},style:{display:"flex",justifyContent:"flex-start",marginBottom:"5px ",marginTop:"5px "},name:"complete_target",onKeyDown:N.JR,value:M.values.complete_target,onChange:M.handleChange,error:M.touched.complete_target&&Boolean(M.errors.complete_target),helperText:M.touched.complete_target&&M.errors.complete_target,onBlur:M.handleBlur})]})}),(0,Q.jsx)(h.Z,{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,Q.jsx)(U.Z,{size:"small",type:"submit",variant:"contained",color:"secondary",disabled:M.isSubmitting,sx:{pl:2,borderRadius:"10px",width:"20%",color:"#468ccc",background:"#e0f4ff",height:"35px","&:hover":{background:"#468ccc",color:"#e0f4ff"}},children:M.isSubmitting?(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsx)(O.Z,{color:"inherit",size:20})}):"Update"})})]})})})})]})})}));function se(e){var t,n=e.row,r=e.key,i=e.currentPage,s=e.pageLength,m=e.selectedMonth,f=(0,o.Z)(),j=a.useState(""),v=(0,l.Z)(j,2),b=v[0],y=v[1],S=a.useState(!1),_=(0,l.Z)(S,2),P=_[0],k=_[1],z=a.useState(!1),R=(0,l.Z)(z,2),W=R[0],I=(R[1],a.useState(!1)),L=(0,l.Z)(I,2),M=(L[0],L[1],a.useState(!1)),F=(0,l.Z)(M,2),B=(F[0],F[1],(0,a.useState)("")),D=(0,l.Z)(B,2),E=D[0],U=(D[1],(0,a.useState)(!1)),O=(0,l.Z)(U,2),G=O[0],J=(O[1],(0,a.useState)("")),V=(0,l.Z)(J,2),q=V[0],K=(V[1],(0,a.useState)("")),$=(0,l.Z)(K,2),H=$[0],N=($[1],function(){y(""),(0,A.z8)(i+1,s,m)});return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(d.Z,{hover:!0,sx:{"& > *":{borderBottom:"unset"}},children:[(0,Q.jsx)(c.Z,{sx:{pl:3,py:1.5},children:(0,Q.jsx)(u.Z,{"aria-label":"expand row",size:"small",onClick:function(){return k(!P)},children:P?(0,Q.jsx)(C.Z,{}):(0,Q.jsx)(w.Z,{})})}),(0,Q.jsx)(c.Z,{align:"left",sx:{py:1.5},children:null===n||void 0===n||null===(t=n.bd)||void 0===t?void 0:t.name}),(0,Q.jsx)(c.Z,{align:"left",sx:{py:1.5},children:null===n||void 0===n?void 0:n.target_month}),(0,Q.jsx)(c.Z,{align:"left",sx:{py:1.5},children:null===n||void 0===n?void 0:n.target_year}),(0,Q.jsx)(c.Z,{align:"left",sx:{py:1.5},children:null===n||void 0===n?void 0:n.targets}),(0,Q.jsx)(c.Z,{align:"center",sx:{py:1.5},children:null===n||void 0===n?void 0:n.completed_target}),(0,Q.jsx)(c.Z,{align:"center",sx:{py:1.5},children:(null===n||void 0===n?void 0:n.targets)-(null===n||void 0===n?void 0:n.completed_target)}),(0,Q.jsx)(c.Z,{align:"center",sx:{py:1.5},children:null===n||void 0===n?void 0:n.total_target})]},r),(0,Q.jsx)(d.Z,{children:(0,Q.jsx)(c.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:8,children:(0,Q.jsx)(g.Z,{in:P,timeout:"auto",unmountOnExit:!0,children:P&&(0,Q.jsx)(h.Z,{sx:{margin:1},children:(0,Q.jsx)(p.Z,{children:(0,Q.jsx)(T.Z,{sx:{bgcolor:"dark"===f.palette.mode?"dark.800":"grey.50",mb:2},title:"Target Details",content:!1,children:(0,Q.jsx)(x.Z,{size:"small","aria-label":"purchases",children:(0,Q.jsxs)(Z.Z,{children:[(0,Q.jsxs)(d.Z,{children:[(0,Q.jsx)(c.Z,{style:{fontWeight:"bold"},children:"Target"}),(0,Q.jsx)(c.Z,{style:{fontWeight:"bold"},children:"Previous Target"}),(0,Q.jsx)(c.Z,{style:{fontWeight:"bold"},children:"Total Target"}),(0,Q.jsx)(c.Z,{style:{fontWeight:"bold"},children:"Achived Target"}),(0,Q.jsx)(c.Z,{style:{fontWeight:"bold"},children:"Remaining Target"})]}),(0,Q.jsxs)(d.Z,{children:[(0,Q.jsx)(c.Z,{children:null!==n&&void 0!==n&&n.targets?null===n||void 0===n?void 0:n.targets:"-"}),(0,Q.jsx)(c.Z,{children:null!==n&&void 0!==n&&n.prev_month_target?null===n||void 0===n?void 0:n.prev_month_target:"-"}),(0,Q.jsx)(c.Z,{children:null!==n&&void 0!==n&&n.total_target?null===n||void 0===n?void 0:n.total_target:"-"}),(0,Q.jsx)(c.Z,{children:null!==n&&void 0!==n&&n.completed_target?null===n||void 0===n?void 0:n.completed_target:"-"}),(0,Q.jsx)(c.Z,{children:null!==n&&void 0!==n&&n.remaining_target?null===n||void 0===n?void 0:n.remaining_target:"-"})]}),(0,Q.jsxs)(d.Z,{children:[(0,Q.jsx)(c.Z,{style:{fontWeight:"bold"},children:"Target Month"}),(0,Q.jsx)(c.Z,{style:{fontWeight:"bold"},children:"Target Year"})]}),(0,Q.jsxs)(d.Z,{children:[(0,Q.jsx)(c.Z,{children:null!==n&&void 0!==n&&n.target_month?null===n||void 0===n?void 0:n.target_month:"-"}),(0,Q.jsx)(c.Z,{children:null!==n&&void 0!==n&&n.target_year?null===n||void 0===n?void 0:n.target_year:"-"})]})]})})})})})})})}),b&&W&&(0,Q.jsx)(ne,{totalTarget:E,targetId:b,open:W,close:function(){return N()}}),b&&G&&(0,Q.jsx)(oe,{completeTarget:H,bdId:q,targetId:b,open:G,close:function(){return N()}})," "]})}(0,s.ZP)(m.Z,{shouldForwardProp:W.x9})((function(e){var t,n=e.theme;return t={width:290,marginLeft:16,height:"45px",padding:"27px 16px","& input":{background:"transparent !important",paddingLeft:"4px !important"}},(0,i.Z)(t,n.breakpoints.down("lg"),{width:250}),(0,i.Z)(t,n.breakpoints.down("md"),{width:"100%",marginLeft:4,background:"dark"===n.palette.mode?n.palette.dark[800]:"#fff"}),t})),(0,s.ZP)(f.Z,{shouldForwardProp:W.x9})((function(e){var t=e.theme;return(0,r.Z)((0,r.Z)((0,r.Z)({},t.typography.commonAvatar),t.typography.mediumAvatar),{},{background:"transparent",color:"#3e7dc3","&:hover":{color:"black"}})}));var de=(0,z.$j)(null,{BdTargetGetListApi:A.z8})((function(){var e,t,n=(0,a.useState)(0),i=(0,l.Z)(n,2),o=i[0],s=i[1],u=(0,a.useState)(10),g=(0,l.Z)(u,2),h=g[0],m=g[1],f=(0,a.useState)(!1),T=(0,l.Z)(f,2),w=(T[0],T[1],(0,a.useState)("")),C=(0,l.Z)(w,2),W=(C[0],C[1],(0,z.v9)((function(e){return e.clusterLeadAction}))),I=W.bdTargetList,L=W.bdTargetLoading,M=(0,a.useState)(""),F=(0,l.Z)(M,2),B=F[0],D=F[1];(0,z.v9)((function(e){return e.masterAction})).leadStatusList;(0,a.useEffect)((function(){(0,k.WI)((0,A.z8)(1,h,B))}),[h,B]);return(0,Q.jsxs)(_.Z,{content:!1,title:(0,Q.jsxs)(j.Z,{direction:"row",children:[(0,Q.jsx)(P.HH9,{sx:{mr:2}})," \xa0 BDE Targets"]}),sx:{border:"0px solid",padding:"5px"},secondary:(0,Q.jsx)(j.Z,{direction:"row",spacing:2,alignItems:"center",children:(0,Q.jsx)(v.Z,{id:"month-select",fullWidth:!0,options:N.e7,getOptionLabel:function(e){return e.label},value:{label:B},onChange:function(e,t){var n=t?t.label:"";D(t?t.label:""),(0,A.z8)(1,h,n)},renderInput:function(e){return(0,Q.jsx)(b.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Select Month",inputProps:(0,r.Z)((0,r.Z)({},e.inputProps),{},{autoComplete:"off"}),style:{minWidth:"250px"}}))}})}),children:[(0,Q.jsx)(p.Z,{children:(0,Q.jsxs)(x.Z,{"aria-label":"collapsible table",children:[(0,Q.jsx)(y.Z,{children:(0,Q.jsxs)(d.Z,{children:[(0,Q.jsx)(c.Z,{sx:{pl:3,py:2}}),(0,Q.jsx)(c.Z,{sx:{py:2},children:"Name"}),(0,Q.jsx)(c.Z,{sx:{py:2},align:"left",children:"Month"}),(0,Q.jsx)(c.Z,{sx:{py:2},align:"left",children:"Year"}),(0,Q.jsx)(c.Z,{sx:{py:2},align:"left",children:"Target"}),(0,Q.jsx)(c.Z,{sx:{py:2},align:"center",children:"Achived Target"}),(0,Q.jsx)(c.Z,{sx:{py:2},align:"center",children:"Remaining Target"}),(0,Q.jsx)(c.Z,{sx:{py:2},align:"center",children:"Total Assigned Target"})]})}),(0,Q.jsx)(Z.Z,{children:!L&&(null===I||void 0===I||null===(e=I.docs)||void 0===e?void 0:e.length)>0?null===I||void 0===I||null===(t=I.docs)||void 0===t?void 0:t.map((function(e,t){return(0,Q.jsx)(se,{row:e,selectedMonth:B,currentPage:o,pageLength:h},t)})):(0,Q.jsx)(Q.Fragment,{children:!0===L?(0,Q.jsx)(R.pX,{rows:10}):(0,Q.jsx)(d.Z,{children:(0,Q.jsx)(c.Z,{sx:{pr:3},align:"center",colSpan:7,children:"No Leads Found"})})})})]})}),(0,Q.jsx)(S.Z,{rowsPerPageOptions:[10,25,50,100],component:"div",count:I.totalDocs,rowsPerPage:h,page:o,onPageChange:function(e,t){s(t),(0,k.WI)((0,A.z8)(t+1,h,B))},onRowsPerPageChange:function(e){(0,k.WI)((0,A.z8)(o+1,e.target.value,B)),m(parseInt(null===e||void 0===e?void 0:e.target.value))}})]})}))},29428:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45045)),l=n(46417),a=(0,i.default)((0,l.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.Z=a},3665:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45045)),l=n(46417),a=(0,i.default)((0,l.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");t.Z=a}}]);