"use strict";(self.webpackChunklms_admin=self.webpackChunklms_admin||[]).push([[6492],{86492:function(e,i,n){n.r(i),n.d(i,{default:function(){return oe}});var s=n(1413),t=n(4942),o=n(29439),r=n(47313),d=n(19860),l=n(17592),a=n(24076),c=n(67478),u=n(49914),x=n(48119),p=n(35898),v=n(51629),m=n(66835),h=n(23477),g=n(57861),f=n(91034),Z=n(33497),j=(n(1759),n(49726),n(1834)),b=n(27754),_=n(64224),P=n(66135),y=n(70816),w=n.n(y),I=n(11692),S=n(56052),k=n(61689),D=n(36541),W=n(91210),N=(n(45352),n(74165)),R=n(15861),L=n(45987),M=n(50301),O=n(94469),C=n(33604),A=n(47131),Y=n(93405),E=n(9019),F=n(61113),z=n(96467),Q=n(69099),U=n(91215),B=(n(61581),n(40364),n(11198)),V=n(93066),q=n(12401),G=n(34229),J=n.n(G),T=n(39236),K=n(65954),H=(n(5866),n(46417)),X=["children","onClose"],$=r.forwardRef((function(e,i){return(0,H.jsx)(M.Z,(0,s.Z)({direction:"up",ref:i},e))})),ee=(0,U.Z)(O.Z)((function(e){var i=e.theme;return{"& .MuDialogContent-root":{padding:i.spacing(2)},"& .MuDialogActions-root":{padding:i.spacing(1)}}})),ie=function(e){var i=e.children,n=e.onClose,t=(0,L.Z)(e,X);return(0,H.jsxs)(C.Z,(0,s.Z)((0,s.Z)({sx:{m:0,py:1,px:2}},t),{},{children:[i,n?(0,H.jsx)(A.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:10,top:10,color:function(e){return e.palette.grey[500]}},children:(0,H.jsx)(B.Z,{})}):null]}))},ne=function(e){var i=e.title,n=e.count,s=(e.iconPrimary,e.messages);return(0,H.jsx)(Y.Z,{sx:{padding:"16px 24px"},children:(0,H.jsx)(E.ZP,{container:!0,spacing:q.dv,children:(0,H.jsx)(E.ZP,{item:!0,xs:12,children:(0,H.jsx)(E.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:(0,H.jsx)(E.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,H.jsxs)(E.ZP,{container:!0,spacing:1,children:[(0,H.jsxs)(E.ZP,{item:!0,xs:!0,zeroMinWidth:!0,sx:{display:"flex",alignItems:"center"},children:[(0,H.jsx)(F.Z,{align:"left",variant:"body2",children:i}),1===s?(0,H.jsx)(F.Z,{align:"left",variant:"body2",sx:{ml:2},children:(0,H.jsx)(k.Z,{title:"Update",arrow:!0,children:(0,H.jsx)("div",{children:(0,H.jsx)(K.Z,{sx:{fontSize:"18px",cursor:"pointer",color:"#3e7dc3"}})})})}):""]}),(0,H.jsx)(E.ZP,{item:!0,sx:{width:"25%",display:"flex",justifyContent:"flex-end"},children:(0,H.jsx)(T.Z,{label:n,variant:"outlined",chipcolor:"primary"})})]})})})})})})},se=function(e){var i,n,s=e.open,t=e.close,l=e.dsrId,a=((0,d.Z)(),(0,P.I0)(),(0,P.v9)((function(e){return e.clusterLeadAction}))),c=a.getDSRDetails,u=a.getDSRDetailsLoading,x=(0,r.useState)(!1),p=(0,o.Z)(x,2),v=p[0],m=(p[1],(0,r.useState)(null===c||void 0===c?void 0:c.linkedin_messages)),h=(0,o.Z)(m,2),g=h[0],f=(h[1],w()().format("DD-MM-YYY"),w()(null===c||void 0===c?void 0:c.createdAt).format("DD-MM-YYY"),function(){var e=(0,R.Z)((0,N.Z)().mark((function e(i){return(0,N.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.preventDefault(),{dsr_id:l,linkedin_messages:Number(g)};case 2:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}());return(0,H.jsx)("div",{children:(0,H.jsxs)(ee,{open:s,TransitionComponent:$,maxWidth:"xl",fullWidth:!0,sx:{"& .MuiDialog-paper":{p:0,width:"100%",maxWidth:"850px"}},children:[(0,H.jsx)(ie,{id:"customized-dialog-title",onClose:function(){t()},children:(0,H.jsx)(F.Z,{variant:"h6",component:"h6",sx:{pl:"10px",fontSize:"1em"},children:"DSR View & Update"})}),(0,H.jsx)(J(),{component:"div",style:{scrollbarWidth:"thin",scrollbarColor:"#ff0000 #f1f1f1",maxWidth:"100%"},children:(0,H.jsx)(z.Z,{dividers:!0,children:u?(0,H.jsx)(I.YJ,{rows:8}):(0,H.jsxs)(E.ZP,{container:!0,spacing:q.dv,children:[(0,H.jsx)(E.ZP,{item:!0,xs:6,children:(0,H.jsxs)(F.Z,{sx:{borderRight:"0px solid #5bb4fe",paddingLeft:"20px",fontWeight:500},align:"left",variant:"h3",children:["BDE Name: ",null===c||void 0===c||null===(i=c.bd_id)||void 0===i?void 0:i.name]})}),(0,H.jsx)(E.ZP,{item:!0,xs:6,children:(0,H.jsxs)(F.Z,{sx:{borderRight:"0px solid #5bb4fe",paddingLeft:"20px",fontWeight:500},align:"left",variant:"h3",children:["BDE Email: ",null===c||void 0===c||null===(n=c.bd_id)||void 0===n?void 0:n.email]})}),(0,H.jsx)(E.ZP,{item:!0,xs:6,sx:{borderRight:"0px solid #5bb4fe","&.MuiGrid-root":{pt:"10px"}},children:(0,H.jsxs)(Z.Z,{content:!1,children:[(0,H.jsx)(ne,{title:"Number Of Leads Assigned",count:null===c||void 0===c?void 0:c.lead_assigned,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id}),(0,H.jsx)(ne,{title:"Number Of Positive Response",count:null===c||void 0===c?void 0:c.lead_positive_response,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id}),(0,H.jsx)(ne,{title:"Number Of Negative Response",count:null===c||void 0===c?void 0:c.lead_negative_response,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id}),(0,H.jsx)(ne,{title:"Number Of Follow-Ups",count:null===c||void 0===c?void 0:c.follow_ups,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id}),(0,H.jsx)(ne,{title:"Number Of Bids (Upwork)",count:null===c||void 0===c?void 0:c.upwork_bids,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id}),(0,H.jsx)(ne,{title:"Number Of Upwork Response",count:null===c||void 0===c?void 0:c.upwork_positive_response,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id}),(0,H.jsx)(ne,{title:"Number Of LinkedIn Response",count:null===c||void 0===c?void 0:c.linkedin_response,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id}),(0,H.jsx)(ne,{title:"Number Of LinkedIn Messages",count:null===c||void 0===c?void 0:c.linkedin_messages,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id})]})}),(0,H.jsx)(E.ZP,{item:!0,xs:6,sx:{borderLeft:"0px solid #5bb4fe","&.MuiGrid-root":{pt:"10px"}},children:(0,H.jsxs)(Z.Z,{content:!1,children:[(0,H.jsx)(ne,{title:"Number Of Meeting Secheduled",count:null===c||void 0===c?void 0:c.meeting_scheduled,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id}),(0,H.jsx)(ne,{title:"Number Of Meeting Done",count:null===c||void 0===c?void 0:c.meeting_done,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id}),(0,H.jsx)(ne,{title:"Number Of Phone Calls Done",count:null===c||void 0===c?void 0:c.phone_call_done,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id}),(0,H.jsx)(ne,{title:"Number Of Propsal Submitted",count:null===c||void 0===c?void 0:c.proposal_submitted,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id}),(0,H.jsx)(ne,{title:"Number Of Estimation Submitted",count:null===c||void 0===c?void 0:c.estimation_submitted,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id}),(0,H.jsx)(ne,{title:"Understand and Queries Submitted",count:null===c||void 0===c?void 0:c.understanding_queries_submitted,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id}),(0,H.jsx)(ne,{title:"Number Of Features List Shared",count:null===c||void 0===c?void 0:c.feature_list_shared,iconPrimary:(0,H.jsx)(V.Z,{}),messages:2,dsrId:null===c||void 0===c?void 0:c._id}),v?(0,H.jsx)(Y.Z,{sx:{padding:"18px 24px"},children:(0,H.jsx)(E.ZP,{container:!0,spacing:q.dv,children:(0,H.jsx)(E.ZP,{item:!0,xs:12,children:(0,H.jsx)(Q.Z,{size:"small",variant:"contained",color:"secondary",sx:{height:"35px",background:"#3a5895","&:hover":{color:"#000",background:"#c6d9ff"}},onClick:function(e){return f(e)},children:"Submit"})})})}):""]})})]})})})]})})};function te(e){var i=e.row,n=e.key,s=e.currentPage,t=e.pageLength,l=e.leadStatus,u=((0,d.Z)(),s+1),x=r.useState(""),p=(0,o.Z)(x,2),v=p[0],m=p[1],h=r.useState(!1),g=(0,o.Z)(h,2),f=(g[0],g[1],r.useState(!1)),Z=(0,o.Z)(f,2),j=(Z[0],Z[1],r.useState(!1)),P=(0,o.Z)(j,2),y=(P[0],P[1],r.useState(!1)),I=(0,o.Z)(y,2),S=I[0],D=I[1];return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(a.Z,{hover:!0,sx:{"& > *":{borderBottom:"unset"}},unmountOnExit:!0,children:[(0,H.jsx)(c.Z,{component:"th",scope:"row",sx:{py:2},children:null===i||void 0===i?void 0:i.bd_name})," ",(0,H.jsx)(c.Z,{component:"th",scope:"row",sx:{py:2},children:null===i||void 0===i?void 0:i.bd_email})," ",(0,H.jsx)(c.Z,{component:"th",scope:"row",sx:{py:2},children:w()(null===i||void 0===i?void 0:i.createdAt).format("DD-MMMM-YYYY")}),(0,H.jsx)(c.Z,{align:"left",sx:{py:2},children:(0,H.jsx)(k.Z,{title:"View Report",arrow:!0,children:(0,H.jsx)(W.Z,{onClick:function(){return m((e=i)._id),D(!0),void(0,_.WI)((0,b.vK)(e._id));var e},sx:{color:"#4d97f3",cursor:"pointer","&:hover":{color:"#b5dbff"}}})})})]},n),S&&(0,H.jsx)(se,{dsrId:v,open:S,rowData:i,close:function(){return m(""),D(!1),(0,_.WI)((0,b.OV)()),void(0,_.WI)((0,b.AQ)(u,t,"",l))}})]})}(0,l.ZP)(u.Z,{shouldForwardProp:D.x9})((function(e){var i,n=e.theme;return i={width:290,marginLeft:16,height:"45px",padding:"27px 16px","& input":{background:"transparent !important",paddingLeft:"4px !important"}},(0,t.Z)(i,n.breakpoints.down("lg"),{width:250}),(0,t.Z)(i,n.breakpoints.down("md"),{width:"100%",marginLeft:4,background:"dark"===n.palette.mode?n.palette.dark[800]:"#fff"}),i})),(0,l.ZP)(x.Z,{shouldForwardProp:D.x9})((function(e){var i=e.theme;return(0,s.Z)((0,s.Z)((0,s.Z)({},i.typography.commonAvatar),i.typography.mediumAvatar),{},{background:"transparent",color:"#3e7dc3","&:hover":{color:"black"}})}));var oe=function(){var e,i,n=(0,r.useState)(0),s=(0,o.Z)(n,2),t=s[0],d=s[1],l=(0,r.useState)(10),u=(0,o.Z)(l,2),x=u[0],y=u[1],w=(0,r.useState)(!1),k=(0,o.Z)(w,2),D=k[0],W=k[1],N=(0,r.useState)(""),R=(0,o.Z)(N,2),L=(R[0],R[1],(0,P.v9)((function(e){return e.clusterLeadAction}))),M=L.getDSRList,O=L.getDSRLoading,C=((0,P.v9)((function(e){return e.masterAction})).leadStatusList,(0,P.v9)((function(e){return e.commonAction})).dashboardleadTypeId),A=(0,r.useState)(C),Y=(0,o.Z)(A,2),E=Y[0];Y[1];(0,r.useEffect)((function(){(0,_.WI)((0,b.AQ)(1,x))}),[x]),(0,r.useEffect)((function(){(0,_.WI)((0,S.qh)()),(0,_.WI)((0,S.Fp)()),(0,_.WI)((0,S.Eb)()),(0,_.WI)((0,S.sY)()),(0,_.WI)((0,S.On)()),(0,_.WI)((0,S.tJ)())}),[]);return(0,H.jsxs)(Z.Z,{content:!1,title:(0,H.jsxs)(p.Z,{direction:"row",children:[(0,H.jsx)(j.hR0,{sx:{mr:2}})," \xa0 DSR Report"]}),sx:{border:"0px solid",padding:"5px"},secondary:(0,H.jsx)(p.Z,{direction:"row",spacing:2,alignItems:"center"}),children:[(0,H.jsx)(v.Z,{children:(0,H.jsxs)(m.Z,{"aria-label":"collapsible table",children:[(0,H.jsx)(h.Z,{children:(0,H.jsxs)(a.Z,{children:[(0,H.jsx)(c.Z,{sx:{pr:3,py:2},align:"left",children:"BDE Name"}),(0,H.jsx)(c.Z,{sx:{pr:3,py:2},align:"left",children:"Email"}),(0,H.jsx)(c.Z,{sx:{pr:3,py:2},align:"left",children:"Date"}),(0,H.jsx)(c.Z,{sx:{pr:3,py:2},align:"left",children:"View"})]})}),(0,H.jsx)(g.Z,{children:!O&&(null===M||void 0===M||null===(e=M.docs)||void 0===e?void 0:e.length)>0?null===M||void 0===M||null===(i=M.docs)||void 0===i?void 0:i.map((function(e,i){return(0,H.jsx)(te,{row:e,leadStatus:E,currentPage:t,pageLength:x},i)})):(0,H.jsx)(H.Fragment,{children:!0===O?(0,H.jsx)(I.m1,{rows:10}):(0,H.jsx)(a.Z,{children:(0,H.jsx)(c.Z,{sx:{pr:3},align:"center",colSpan:7,children:"No DSR Found"})})})})]})}),(0,H.jsx)(f.Z,{rowsPerPageOptions:[10,25,50,100],component:"div",count:M.totalDocs,rowsPerPage:x,page:t,onPageChange:function(e,i){d(i),(0,_.WI)((0,b.AQ)(i+1,x,"",E))},onRowsPerPageChange:function(e){(0,_.WI)((0,b.AQ)(t+1,e.target.value,"",E)),y(parseInt(null===e||void 0===e?void 0:e.target.value))}}),D&&(0,H.jsx)(se,{open:D,close:function(){return W(!1),void(0,_.WI)((0,b.AQ)(t+1,x))}})]})}}}]);