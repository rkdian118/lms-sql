"use strict";(self.webpackChunklms_admin=self.webpackChunklms_admin||[]).push([[3779],{3779:function(e,i,n){n.r(i),n.d(i,{default:function(){return de}});var s=n(1413),t=n(4942),r=n(29439),o=n(47313),d=n(19860),l=n(17592),a=n(24076),c=n(67478),u=n(49914),x=n(48119),p=n(35898),v=n(51629),h=n(66835),m=n(23477),g=n(57861),j=n(91034),Z=n(33497),f=(n(1759),n(49726),n(1834)),b=n(62831),P=n(64224),y=n(66135),_=n(70816),I=n.n(_),w=n(11692),S=n(56052),k=n(61689),D=n(36541),W=n(91210),C=(n(45352),n(74165)),M=n(15861),O=n(45987),R=n(50301),N=n(94469),L=n(33604),A=n(47131),z=n(93405),Y=n(9019),F=n(61113),U=n(96467),Q=n(24631),E=n(69099),V=n(91215),q=(n(61581),n(40364),n(11198)),B=n(93066),J=n(12401),K=n(34229),T=n.n(K),G=n(39236),H=n(65954),X=n(5866),$=n(46417),ee=["children","onClose"],ie=o.forwardRef((function(e,i){return(0,$.jsx)(R.Z,(0,s.Z)({direction:"up",ref:i},e))})),ne=(0,V.Z)(N.Z)((function(e){var i=e.theme;return{"& .MuDialogContent-root":{padding:i.spacing(2)},"& .MuDialogActions-root":{padding:i.spacing(1)}}})),se=function(e){var i=e.children,n=e.onClose,t=(0,O.Z)(e,ee);return(0,$.jsxs)(L.Z,(0,s.Z)((0,s.Z)({sx:{m:0,py:1,px:2}},t),{},{children:[i,n?(0,$.jsx)(A.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:10,top:10,color:function(e){return e.palette.grey[500]}},children:(0,$.jsx)(q.Z,{})}):null]}))},te=function(e){var i=e.title,n=e.count,s=(e.iconPrimary,e.messages);return(0,$.jsx)(z.Z,{sx:{padding:"16px 24px"},children:(0,$.jsx)(Y.ZP,{container:!0,spacing:J.dv,children:(0,$.jsx)(Y.ZP,{item:!0,xs:12,children:(0,$.jsx)(Y.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:(0,$.jsx)(Y.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,$.jsxs)(Y.ZP,{container:!0,spacing:1,children:[(0,$.jsxs)(Y.ZP,{item:!0,xs:!0,zeroMinWidth:!0,sx:{display:"flex",alignItems:"center"},children:[(0,$.jsx)(F.Z,{align:"left",variant:"body2",children:i}),1===s?(0,$.jsx)(F.Z,{align:"left",variant:"body2",sx:{ml:2},children:(0,$.jsx)(k.Z,{title:"Update",arrow:!0,children:(0,$.jsx)("div",{children:(0,$.jsx)(H.Z,{sx:{fontSize:"18px",cursor:"pointer",color:"#3e7dc3"}})})})}):""]}),(0,$.jsx)(Y.ZP,{item:!0,sx:{width:"25%",display:"flex",justifyContent:"flex-end"},children:(0,$.jsx)(G.Z,{label:n,variant:"outlined",chipcolor:"primary"})})]})})})})})})},re=function(e){var i=e.open,n=e.close,s=e.dsrId,t=((0,d.Z)(),(0,y.I0)()),l=(0,y.v9)((function(e){return e.businessAction})),a=l.getDSRDetails,c=l.getDSRDetailsLoading,u=(0,o.useState)(!1),x=(0,r.Z)(u,2),p=x[0],v=x[1],h=(0,o.useState)(null===a||void 0===a?void 0:a.linkedin_messages),m=(0,r.Z)(h,2),g=m[0],j=m[1],f=I()().format("DD-MM-YYY")===I()(null===a||void 0===a?void 0:a.createdAt).format("DD-MM-YYY"),P=function(){var e=(0,M.Z)((0,C.Z)().mark((function e(i){var n;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.preventDefault(),n={dsr_id:s,linkedin_messages:Number(g)},t((0,b.ll)(n)).then((function(e){!0===e.succeeded?(v(!1),t((0,b.vK)(s)),t((0,X.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"success"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}}))):t((0,X.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"error"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}}))}));case 3:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}();return(0,$.jsx)("div",{children:(0,$.jsxs)(ne,{open:i,TransitionComponent:ie,maxWidth:"xl",fullWidth:!0,sx:{"& .MuiDialog-paper":{p:0,width:"100%",maxWidth:"850px"}},children:[(0,$.jsx)(se,{id:"customized-dialog-title",onClose:function(){n()},children:(0,$.jsx)(F.Z,{variant:"h6",component:"h6",sx:{pl:"10px",fontSize:"1em"},children:"DSR View & Update"})}),(0,$.jsx)(T(),{component:"div",style:{scrollbarWidth:"thin",scrollbarColor:"#ff0000 #f1f1f1",maxWidth:"100%"},children:(0,$.jsx)(U.Z,{dividers:!0,children:c?(0,$.jsx)(w.YJ,{rows:8}):(0,$.jsxs)(Y.ZP,{container:!0,spacing:J.dv,children:[(0,$.jsx)(Y.ZP,{item:!0,xs:6,sx:{borderRight:"0px solid #5bb4fe"},children:(0,$.jsxs)(Z.Z,{content:!1,children:[(0,$.jsx)(te,{title:"Number Of Leads Assigned",count:null===a||void 0===a?void 0:a.lead_assigned,iconPrimary:(0,$.jsx)(B.Z,{}),messages:2,dsrId:null===a||void 0===a?void 0:a._id}),(0,$.jsx)(te,{title:"Number Of Positive Response",count:null===a||void 0===a?void 0:a.lead_positive_response,iconPrimary:(0,$.jsx)(B.Z,{}),messages:2,dsrId:null===a||void 0===a?void 0:a._id}),(0,$.jsx)(te,{title:"Number Of Negative Response",count:null===a||void 0===a?void 0:a.lead_negative_response,iconPrimary:(0,$.jsx)(B.Z,{}),messages:2,dsrId:null===a||void 0===a?void 0:a._id}),(0,$.jsx)(te,{title:"Number Of Follow-Ups",count:null===a||void 0===a?void 0:a.follow_ups,iconPrimary:(0,$.jsx)(B.Z,{}),messages:2,dsrId:null===a||void 0===a?void 0:a._id}),(0,$.jsx)(te,{title:"Number Of Bids (Upwork)",count:null===a||void 0===a?void 0:a.upwork_bids,iconPrimary:(0,$.jsx)(B.Z,{}),messages:2,dsrId:null===a||void 0===a?void 0:a._id}),(0,$.jsx)(te,{title:"Number Of Upwork Response",count:null===a||void 0===a?void 0:a.upwork_positive_response,iconPrimary:(0,$.jsx)(B.Z,{}),messages:2,dsrId:null===a||void 0===a?void 0:a._id}),(0,$.jsx)(te,{title:"Number Of LinkedIn Response",count:null===a||void 0===a?void 0:a.linkedin_response,iconPrimary:(0,$.jsx)(B.Z,{}),messages:2,dsrId:null===a||void 0===a?void 0:a._id}),(0,$.jsx)(z.Z,{sx:{padding:"16px 24px"},children:(0,$.jsx)(Y.ZP,{container:!0,spacing:J.dv,children:(0,$.jsx)(Y.ZP,{item:!0,xs:12,children:(0,$.jsx)(Y.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:(0,$.jsx)(Y.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,$.jsxs)(Y.ZP,{container:!0,spacing:1,children:[(0,$.jsxs)(Y.ZP,{item:!0,xs:!0,zeroMinWidth:!0,sx:{display:"flex",alignItems:"center"},children:[(0,$.jsx)(F.Z,{align:"left",variant:"body2",children:"Number Of LinkedIn Messages"}),(0,$.jsx)(F.Z,{align:"left",variant:"body2",sx:{ml:2},children:!0===f?(0,$.jsx)(k.Z,{title:"Update",arrow:!0,children:(0,$.jsx)("div",{children:(0,$.jsx)(H.Z,{onClick:function(){v(!p)},sx:{fontSize:"18px",cursor:"pointer",color:"#3e7dc3"}})})}):""})]}),(0,$.jsx)(Y.ZP,{item:!0,sx:{width:"25%",display:"flex",justifyContent:"flex-end"},children:p?(0,$.jsx)(Q.Z,{type:"text",size:"small",defaultValue:g||(null===a||void 0===a?void 0:a.linkedin_messages),inputProps:{maxLength:4},onChange:function(e){return j(e?e.target.value:"")}}):(0,$.jsx)(G.Z,{label:null===a||void 0===a?void 0:a.linkedin_messages,variant:"outlined",chipcolor:"primary"})})]})})})})})})]})}),(0,$.jsx)(Y.ZP,{item:!0,xs:6,sx:{borderLeft:"0px solid #5bb4fe"},children:(0,$.jsxs)(Z.Z,{content:!1,children:[(0,$.jsx)(te,{title:"Number Of Meeting Secheduled",count:null===a||void 0===a?void 0:a.meeting_scheduled,iconPrimary:(0,$.jsx)(B.Z,{}),messages:2,dsrId:null===a||void 0===a?void 0:a._id}),(0,$.jsx)(te,{title:"Number Of Meeting Done",count:null===a||void 0===a?void 0:a.meeting_done,iconPrimary:(0,$.jsx)(B.Z,{}),messages:2,dsrId:null===a||void 0===a?void 0:a._id}),(0,$.jsx)(te,{title:"Number Of Phone Calls Done",count:null===a||void 0===a?void 0:a.phone_call_done,iconPrimary:(0,$.jsx)(B.Z,{}),messages:2,dsrId:null===a||void 0===a?void 0:a._id}),(0,$.jsx)(te,{title:"Number Of Propsal Submitted",count:null===a||void 0===a?void 0:a.proposal_submitted,iconPrimary:(0,$.jsx)(B.Z,{}),messages:2,dsrId:null===a||void 0===a?void 0:a._id}),(0,$.jsx)(te,{title:"Number Of Estimation Submitted",count:null===a||void 0===a?void 0:a.estimation_submitted,iconPrimary:(0,$.jsx)(B.Z,{}),messages:2,dsrId:null===a||void 0===a?void 0:a._id}),(0,$.jsx)(te,{title:"Understand and Queries Submitted",count:null===a||void 0===a?void 0:a.understanding_queries_submitted,iconPrimary:(0,$.jsx)(B.Z,{}),messages:2,dsrId:null===a||void 0===a?void 0:a._id}),(0,$.jsx)(te,{title:"Number Of Features List Shared",count:null===a||void 0===a?void 0:a.feature_list_shared,iconPrimary:(0,$.jsx)(B.Z,{}),messages:2,dsrId:null===a||void 0===a?void 0:a._id}),p?(0,$.jsx)(z.Z,{sx:{padding:"18px 24px"},children:(0,$.jsx)(Y.ZP,{container:!0,spacing:J.dv,children:(0,$.jsx)(Y.ZP,{item:!0,xs:12,children:(0,$.jsx)(E.Z,{size:"small",variant:"contained",color:"secondary",sx:{height:"35px",background:"#3a5895","&:hover":{color:"#000",background:"#c6d9ff"}},onClick:function(e){return P(e)},children:"Submit"})})})}):""]})})]})})})]})})};function oe(e){var i=e.row,n=e.key,s=e.currentPage,t=e.pageLength,l=e.leadStatus,u=((0,d.Z)(),s+1),x=o.useState(""),p=(0,r.Z)(x,2),v=p[0],h=p[1],m=o.useState(!1),g=(0,r.Z)(m,2),j=(g[0],g[1],o.useState(!1)),Z=(0,r.Z)(j,2),f=(Z[0],Z[1],o.useState(!1)),y=(0,r.Z)(f,2),_=(y[0],y[1],o.useState(!1)),w=(0,r.Z)(_,2),S=w[0],D=w[1];return(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(a.Z,{hover:!0,sx:{"& > *":{borderBottom:"unset"}},unmountOnExit:!0,children:[(0,$.jsx)(c.Z,{component:"th",scope:"row",sx:{py:2},children:I()(null===i||void 0===i?void 0:i.createdAt).format("DD-MMMM-YYYY")}),(0,$.jsx)(c.Z,{align:"left",sx:{py:2},children:(0,$.jsx)(k.Z,{title:"View Report",arrow:!0,children:(0,$.jsx)(W.Z,{onClick:function(){return h((e=i)._id),D(!0),void(0,P.WI)((0,b.vK)(e._id));var e},sx:{color:"#4d97f3",cursor:"pointer","&:hover":{color:"#b5dbff"}}})})})]},n),S&&(0,$.jsx)(re,{dsrId:v,open:S,rowData:i,close:function(){return h(""),D(!1),(0,P.WI)((0,b.OV)()),void(0,P.WI)((0,b.AQ)(u,t,"",l))}})]})}(0,l.ZP)(u.Z,{shouldForwardProp:D.x9})((function(e){var i,n=e.theme;return i={width:290,marginLeft:16,height:"45px",padding:"27px 16px","& input":{background:"transparent !important",paddingLeft:"4px !important"}},(0,t.Z)(i,n.breakpoints.down("lg"),{width:250}),(0,t.Z)(i,n.breakpoints.down("md"),{width:"100%",marginLeft:4,background:"dark"===n.palette.mode?n.palette.dark[800]:"#fff"}),i})),(0,l.ZP)(x.Z,{shouldForwardProp:D.x9})((function(e){var i=e.theme;return(0,s.Z)((0,s.Z)((0,s.Z)({},i.typography.commonAvatar),i.typography.mediumAvatar),{},{background:"transparent",color:"#3e7dc3","&:hover":{color:"black"}})}));var de=function(){var e,i,n=(0,o.useState)(0),s=(0,r.Z)(n,2),t=s[0],d=s[1],l=(0,o.useState)(10),u=(0,r.Z)(l,2),x=u[0],_=u[1],I=(0,o.useState)(!1),k=(0,r.Z)(I,2),D=k[0],W=k[1],C=(0,o.useState)(""),M=(0,r.Z)(C,2),O=(M[0],M[1],(0,y.v9)((function(e){return e.businessAction}))),R=O.getDSRList,N=O.getDSRLoading,L=((0,y.v9)((function(e){return e.masterAction})).leadStatusList,(0,y.v9)((function(e){return e.commonAction})).dashboardleadTypeId),A=(0,o.useState)(L),z=(0,r.Z)(A,2),Y=z[0];z[1];(0,o.useEffect)((function(){(0,P.WI)((0,b.AQ)(1,x))}),[x]),(0,o.useEffect)((function(){(0,P.WI)((0,S.qh)()),(0,P.WI)((0,S.Fp)()),(0,P.WI)((0,S.Eb)()),(0,P.WI)((0,S.sY)()),(0,P.WI)((0,S.On)()),(0,P.WI)((0,S.tJ)())}),[]);return(0,$.jsxs)(Z.Z,{content:!1,title:(0,$.jsxs)(p.Z,{direction:"row",children:[(0,$.jsx)(f.hR0,{sx:{mr:2}})," \xa0 DSR Report"]}),sx:{border:"0px solid",padding:"5px"},secondary:(0,$.jsx)(p.Z,{direction:"row",spacing:2,alignItems:"center"}),children:[(0,$.jsx)(v.Z,{children:(0,$.jsxs)(h.Z,{"aria-label":"collapsible table",children:[(0,$.jsx)(m.Z,{children:(0,$.jsxs)(a.Z,{children:[(0,$.jsx)(c.Z,{sx:{pr:3,py:2},align:"left",children:"Date"}),(0,$.jsx)(c.Z,{sx:{pr:3,py:2},align:"left",children:"View"})]})}),(0,$.jsx)(g.Z,{children:!N&&(null===R||void 0===R||null===(e=R.docs)||void 0===e?void 0:e.length)>0?null===R||void 0===R||null===(i=R.docs)||void 0===i?void 0:i.map((function(e,i){return(0,$.jsx)(oe,{row:e,leadStatus:Y,currentPage:t,pageLength:x},i)})):(0,$.jsx)($.Fragment,{children:!0===N?(0,$.jsx)(w.L7,{rows:10}):(0,$.jsx)(a.Z,{children:(0,$.jsx)(c.Z,{sx:{pr:3},align:"center",colSpan:7,children:"No DSR Found"})})})})]})}),(0,$.jsx)(j.Z,{rowsPerPageOptions:[10,25,50,100],component:"div",count:R.totalDocs,rowsPerPage:x,page:t,onPageChange:function(e,i){d(i),(0,P.WI)((0,b.AQ)(i+1,x,"",Y))},onRowsPerPageChange:function(e){(0,P.WI)((0,b.AQ)(t+1,e.target.value,"",Y)),_(parseInt(null===e||void 0===e?void 0:e.target.value))}}),D&&(0,$.jsx)(re,{open:D,close:function(){return W(!1),void(0,P.WI)((0,b.AQ)(t+1,x))}})]})}}}]);