"use strict";(self.webpackChunklms_admin=self.webpackChunklms_admin||[]).push([[3779],{3779:function(e,n,i){i.r(n),i.d(n,{default:function(){return le}});var t=i(74165),r=i(15861),s=i(1413),o=i(4942),d=i(29439),a=i(47313),l=i(19860),c=i(17592),u=i(24076),x=i(67478),p=i(49914),v=i(48119),m=i(35898),h=i(51629),f=i(66835),g=i(23477),Z=i(57861),j=i(91034),b=i(33497),y=(i(1759),i(49726),i(1834)),P=i(62831),w=i(64224),_=i(66135),D=i(70816),I=i.n(D),Y=i(11692),k=i(56052),M=i(61689),S=i(36541),W=i(91210),C=(i(45352),i(45987)),O=i(50301),R=i(94469),N=i(33604),A=i(47131),L=i(93405),z=i(9019),F=i(61113),Q=i(96467),U=i(24631),E=i(69099),V=i(91215),K=(i(61581),i(40364),i(11198)),T=i(93066),q=i(12401),B=i(34229),J=i.n(B),G=i(39236),H=i(65954),X=i(5866),$=i(46417),ee=["children","onClose"],ne=a.forwardRef((function(e,n){return(0,$.jsx)(O.Z,(0,s.Z)({direction:"up",ref:n},e))})),ie=(0,V.Z)(R.Z)((function(e){var n=e.theme;return{"& .MuDialogContent-root":{padding:n.spacing(2)},"& .MuDialogActions-root":{padding:n.spacing(1)}}})),te=function(e){var n=e.children,i=e.onClose,t=(0,C.Z)(e,ee);return(0,$.jsxs)(N.Z,(0,s.Z)((0,s.Z)({sx:{m:0,py:1,px:2}},t),{},{children:[n,i?(0,$.jsx)(A.Z,{"aria-label":"close",onClick:i,sx:{position:"absolute",right:10,top:10,color:function(e){return e.palette.grey[500]}},children:(0,$.jsx)(K.Z,{})}):null]}))},re=function(e){var n=e.title,i=e.count,t=(e.iconPrimary,e.messages);return(0,$.jsx)(L.Z,{sx:{padding:"16px 24px"},children:(0,$.jsx)(z.ZP,{container:!0,spacing:q.dv,children:(0,$.jsx)(z.ZP,{item:!0,xs:12,children:(0,$.jsx)(z.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:(0,$.jsx)(z.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,$.jsxs)(z.ZP,{container:!0,spacing:1,children:[(0,$.jsxs)(z.ZP,{item:!0,xs:!0,zeroMinWidth:!0,sx:{display:"flex",alignItems:"center"},children:[(0,$.jsx)(F.Z,{align:"left",variant:"body2",children:n}),1===t?(0,$.jsx)(F.Z,{align:"left",variant:"body2",sx:{ml:2},children:(0,$.jsx)(M.Z,{title:"Update",arrow:!0,children:(0,$.jsx)("div",{children:(0,$.jsx)(H.Z,{sx:{fontSize:"18px",cursor:"pointer",color:"#3e7dc3"}})})})}):""]}),(0,$.jsx)(z.ZP,{item:!0,sx:{width:"25%",display:"flex",justifyContent:"flex-end"},children:(0,$.jsx)(G.Z,{label:i,variant:"outlined",chipcolor:"primary"})})]})})})})})})},se=function(e){var n=e.open,i=e.close,s=e.dsrId,o=((0,l.Z)(),(0,_.I0)()),c=(0,_.v9)((function(e){return e.businessAction})),u=c.getDSRDetails,x=c.getDSRDetailsLoading,p=(0,a.useState)(!1),v=(0,d.Z)(p,2),m=v[0],h=v[1],f=(0,a.useState)(null===u||void 0===u?void 0:u.linkedin_messages),g=(0,d.Z)(f,2),Z=g[0],j=g[1],y=I()().format("DD-MM-YYY")===I()(null===u||void 0===u?void 0:u.createdAt).format("DD-MM-YYY"),w=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),i={dsr_id:s,linkedin_messages:Number(Z)},o((0,P.ll)(i)).then((function(e){!0===e.succeeded?(h(!1),o((0,P.vK)(s)),o((0,X.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"success"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}}))):o((0,X.ss)({open:!0,message:e.ResponseMessage,variant:"alert",alert:{color:"error"},transition:"Fade",anchorOrigin:{vertical:"top",horizontal:"right"}}))}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,$.jsx)("div",{children:(0,$.jsxs)(ie,{open:n,TransitionComponent:ne,maxWidth:"xl",fullWidth:!0,sx:{"& .MuiDialog-paper":{p:0,width:"100%",maxWidth:"850px"}},children:[(0,$.jsx)(te,{id:"customized-dialog-title",onClose:function(){i()},children:(0,$.jsx)(F.Z,{variant:"h6",component:"h6",sx:{pl:"10px",fontSize:"1em"},children:"DSR View & Update"})}),(0,$.jsx)(J(),{component:"div",style:{scrollbarWidth:"thin",scrollbarColor:"#ff0000 #f1f1f1",maxWidth:"100%"},children:(0,$.jsx)(Q.Z,{dividers:!0,children:x?(0,$.jsx)(Y.YJ,{rows:8}):(0,$.jsxs)(z.ZP,{container:!0,spacing:q.dv,children:[(0,$.jsx)(z.ZP,{item:!0,xs:6,sx:{borderRight:"0px solid #5bb4fe"},children:(0,$.jsxs)(b.Z,{content:!1,children:[(0,$.jsx)(re,{title:"Number Of Leads Assigned",count:null===u||void 0===u?void 0:u.lead_assigned,iconPrimary:(0,$.jsx)(T.Z,{}),messages:2,dsrId:null===u||void 0===u?void 0:u._id}),(0,$.jsx)(re,{title:"Number Of Positive Response",count:null===u||void 0===u?void 0:u.lead_positive_response,iconPrimary:(0,$.jsx)(T.Z,{}),messages:2,dsrId:null===u||void 0===u?void 0:u._id}),(0,$.jsx)(re,{title:"Number Of Negative Response",count:null===u||void 0===u?void 0:u.lead_negative_response,iconPrimary:(0,$.jsx)(T.Z,{}),messages:2,dsrId:null===u||void 0===u?void 0:u._id}),(0,$.jsx)(re,{title:"Number Of Follow-Ups",count:null===u||void 0===u?void 0:u.follow_ups,iconPrimary:(0,$.jsx)(T.Z,{}),messages:2,dsrId:null===u||void 0===u?void 0:u._id}),(0,$.jsx)(re,{title:"Number Of Bids (Upwork)",count:null===u||void 0===u?void 0:u.upwork_bids,iconPrimary:(0,$.jsx)(T.Z,{}),messages:2,dsrId:null===u||void 0===u?void 0:u._id}),(0,$.jsx)(re,{title:"Number Of Upwork Response",count:null===u||void 0===u?void 0:u.upwork_positive_response,iconPrimary:(0,$.jsx)(T.Z,{}),messages:2,dsrId:null===u||void 0===u?void 0:u._id}),(0,$.jsx)(re,{title:"Number Of LinkedIn Response",count:null===u||void 0===u?void 0:u.linkedin_response,iconPrimary:(0,$.jsx)(T.Z,{}),messages:2,dsrId:null===u||void 0===u?void 0:u._id}),(0,$.jsx)(L.Z,{sx:{padding:"16px 24px"},children:(0,$.jsx)(z.ZP,{container:!0,spacing:q.dv,children:(0,$.jsx)(z.ZP,{item:!0,xs:12,children:(0,$.jsx)(z.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:(0,$.jsx)(z.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,$.jsxs)(z.ZP,{container:!0,spacing:1,children:[(0,$.jsxs)(z.ZP,{item:!0,xs:!0,zeroMinWidth:!0,sx:{display:"flex",alignItems:"center"},children:[(0,$.jsx)(F.Z,{align:"left",variant:"body2",children:"Number Of LinkedIn Messages"}),(0,$.jsx)(F.Z,{align:"left",variant:"body2",sx:{ml:2},children:!0===y?(0,$.jsx)(M.Z,{title:"Update",arrow:!0,children:(0,$.jsx)("div",{children:(0,$.jsx)(H.Z,{onClick:function(){h(!m)},sx:{fontSize:"18px",cursor:"pointer",color:"#3e7dc3"}})})}):""})]}),(0,$.jsx)(z.ZP,{item:!0,sx:{width:"25%",display:"flex",justifyContent:"flex-end"},children:m?(0,$.jsx)(U.Z,{type:"text",size:"small",defaultValue:Z||(null===u||void 0===u?void 0:u.linkedin_messages),inputProps:{maxLength:4},onChange:function(e){return j(e?e.target.value:"")}}):(0,$.jsx)(G.Z,{label:null===u||void 0===u?void 0:u.linkedin_messages,variant:"outlined",chipcolor:"primary"})})]})})})})})})]})}),(0,$.jsx)(z.ZP,{item:!0,xs:6,sx:{borderLeft:"0px solid #5bb4fe"},children:(0,$.jsxs)(b.Z,{content:!1,children:[(0,$.jsx)(re,{title:"Number Of Meeting Secheduled",count:null===u||void 0===u?void 0:u.meeting_scheduled,iconPrimary:(0,$.jsx)(T.Z,{}),messages:2,dsrId:null===u||void 0===u?void 0:u._id}),(0,$.jsx)(re,{title:"Number Of Meeting Done",count:null===u||void 0===u?void 0:u.meeting_done,iconPrimary:(0,$.jsx)(T.Z,{}),messages:2,dsrId:null===u||void 0===u?void 0:u._id}),(0,$.jsx)(re,{title:"Number Of Follow-Ups Calls Done",count:null===u||void 0===u?void 0:u.phone_call_done,iconPrimary:(0,$.jsx)(T.Z,{}),messages:2,dsrId:null===u||void 0===u?void 0:u._id}),(0,$.jsx)(re,{title:"Number Of Propsal Submitted",count:null===u||void 0===u?void 0:u.proposal_submitted,iconPrimary:(0,$.jsx)(T.Z,{}),messages:2,dsrId:null===u||void 0===u?void 0:u._id}),(0,$.jsx)(re,{title:"Number Of Estimation Submitted",count:null===u||void 0===u?void 0:u.estimation_submitted,iconPrimary:(0,$.jsx)(T.Z,{}),messages:2,dsrId:null===u||void 0===u?void 0:u._id}),(0,$.jsx)(re,{title:"Understand and Queries Submitted",count:null===u||void 0===u?void 0:u.understanding_queries_submitted,iconPrimary:(0,$.jsx)(T.Z,{}),messages:2,dsrId:null===u||void 0===u?void 0:u._id}),(0,$.jsx)(re,{title:"Number Of Features List Shared",count:null===u||void 0===u?void 0:u.feature_list_shared,iconPrimary:(0,$.jsx)(T.Z,{}),messages:2,dsrId:null===u||void 0===u?void 0:u._id}),m?(0,$.jsx)(L.Z,{sx:{padding:"18px 24px"},children:(0,$.jsx)(z.ZP,{container:!0,spacing:q.dv,children:(0,$.jsx)(z.ZP,{item:!0,xs:12,children:(0,$.jsx)(E.Z,{size:"small",variant:"contained",color:"secondary",sx:{height:"35px",background:"#3a5895","&:hover":{color:"#000",background:"#c6d9ff"}},onClick:function(e){return w(e)},children:"Submit"})})})}):""]})})]})})})]})})},oe=i(14732),de=i(74031);function ae(e){var n=e.row,i=e.key,t=e.currentPage,r=e.pageLength,s=e.leadStatus,o=((0,l.Z)(),t+1),c=a.useState(""),p=(0,d.Z)(c,2),v=p[0],m=p[1],h=a.useState(!1),f=(0,d.Z)(h,2),g=(f[0],f[1],a.useState(!1)),Z=(0,d.Z)(g,2),j=(Z[0],Z[1],a.useState(!1)),b=(0,d.Z)(j,2),y=(b[0],b[1],a.useState(!1)),_=(0,d.Z)(y,2),D=_[0],Y=_[1];return(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(u.Z,{hover:!0,sx:{"& > *":{borderBottom:"unset"}},unmountOnExit:!0,children:[(0,$.jsx)(x.Z,{component:"th",scope:"row",sx:{py:2},children:I()(null===n||void 0===n?void 0:n.createdAt).format("DD-MMMM-YYYY")}),(0,$.jsx)(x.Z,{align:"left",sx:{py:2},children:(0,$.jsx)(M.Z,{title:"View Report",arrow:!0,children:(0,$.jsx)(W.Z,{onClick:function(){return m((e=n)._id),Y(!0),void(0,w.WI)((0,P.vK)(e._id));var e},sx:{color:"#4d97f3",cursor:"pointer","&:hover":{color:"#b5dbff"}}})})})]},i),D&&(0,$.jsx)(se,{dsrId:v,open:D,rowData:n,close:function(){return m(""),Y(!1),(0,w.WI)((0,P.OV)()),void(0,w.WI)((0,P.AQ)(o,r,"",s))}})]})}(0,c.ZP)(p.Z,{shouldForwardProp:S.x9})((function(e){var n,i=e.theme;return n={width:290,marginLeft:16,height:"45px",padding:"27px 16px","& input":{background:"transparent !important",paddingLeft:"4px !important"}},(0,o.Z)(n,i.breakpoints.down("lg"),{width:250}),(0,o.Z)(n,i.breakpoints.down("md"),{width:"100%",marginLeft:4,background:"dark"===i.palette.mode?i.palette.dark[800]:"#fff"}),n})),(0,c.ZP)(v.Z,{shouldForwardProp:S.x9})((function(e){var n=e.theme;return(0,s.Z)((0,s.Z)((0,s.Z)({},n.typography.commonAvatar),n.typography.mediumAvatar),{},{background:"transparent",color:"#3e7dc3","&:hover":{color:"black"}})}));var le=function(){var e,n,i,s,o=(0,a.useState)(0),l=(0,d.Z)(o,2),c=l[0],p=l[1],v=(0,a.useState)(10),D=(0,d.Z)(v,2),M=D[0],S=D[1],W=(0,a.useState)(!1),C=(0,d.Z)(W,2),O=C[0],R=C[1],N=(0,a.useState)(""),A=(0,d.Z)(N,2),L=(A[0],A[1],(0,_.v9)((function(e){return e.businessAction}))),z=L.getDSRList,F=L.getDSRLoading,Q=((0,_.v9)((function(e){return e.masterAction})).leadStatusList,(0,_.v9)((function(e){return e.commonAction})).dashboardleadTypeId),U=(0,a.useState)(Q),E=(0,d.Z)(U,2),V=E[0],K=(E[1],(0,a.useState)(["",""])),T=(0,d.Z)(K,2),q=T[0],B=T[1];null==q?(i="",s=""):(i=q.length>0&&""!==q[0]?I()(q[0]).format("YYYY-MM-DD"):"",s=q.length>0&&""!==q[0]?I()(q[1]).format("YYYY-MM-DD"):""),(0,a.useEffect)((function(){(0,w.WI)((0,P.AQ)(1,M,i,s))}),[M,i,s]),(0,a.useEffect)((function(){(0,w.WI)((0,k.qh)()),(0,w.WI)((0,k.Fp)()),(0,w.WI)((0,k.Eb)()),(0,w.WI)((0,k.sY)()),(0,w.WI)((0,k.On)()),(0,w.WI)((0,k.tJ)())}),[]);var J=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var i,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(n),n.length>0&&(i=n?I()(n[0]).format("YYYY-MM-DD"):"",r=n?I()(n[1]).format("YYYY-MM-DD"):"",(0,w.WI)((0,P.AQ)(c+1,M,i,r)));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),G=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var i,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n?I()(n[0]).format("YYYY-MM-DD"):"",r=n?I()(n[1]).format("YYYY-MM-DD"):"",(0,w.WI)((0,P.AQ)(c+1,M,i,r)),B(n);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,$.jsxs)(b.Z,{content:!1,title:(0,$.jsxs)(m.Z,{direction:"row",children:[(0,$.jsx)(y.hR0,{sx:{mr:2}})," \xa0 DSR Report"]}),sx:{border:"0px solid",padding:"5px"},secondary:(0,$.jsx)(m.Z,{direction:"row",spacing:2,alignItems:"center",children:(0,$.jsx)(oe.Z,{showOneCalendar:!0,size:"md",placeholder:"Please Select Date-Range",className:"w-100 input d-inline",character:" -To- ",block:!0,value:q,cleanable:!0,onOk:G,onChange:J,format:"dd-MMM-yyyy",onKeyDown:function(e){return e.preventDefault()},ranges:de.rQ,disabledDate:function(e){return e>new Date},style:{borderRadius:"10px !important"},placement:"bottomEnd"})}),children:[(0,$.jsx)(h.Z,{children:(0,$.jsxs)(f.Z,{"aria-label":"collapsible table",children:[(0,$.jsx)(g.Z,{children:(0,$.jsxs)(u.Z,{children:[(0,$.jsx)(x.Z,{sx:{pr:3,py:2},align:"left",children:"Date"}),(0,$.jsx)(x.Z,{sx:{pr:3,py:2},align:"left",children:"View"})]})}),(0,$.jsx)(Z.Z,{children:!F&&(null===z||void 0===z||null===(e=z.docs)||void 0===e?void 0:e.length)>0?null===z||void 0===z||null===(n=z.docs)||void 0===n?void 0:n.map((function(e,n){return(0,$.jsx)(ae,{row:e,leadStatus:V,currentPage:c,pageLength:M},n)})):(0,$.jsx)($.Fragment,{children:!0===F?(0,$.jsx)(Y.L7,{rows:10}):(0,$.jsx)(u.Z,{children:(0,$.jsx)(x.Z,{sx:{pr:3},align:"center",colSpan:7,children:"No DSR Found"})})})})]})}),(0,$.jsx)(j.Z,{rowsPerPageOptions:[10,25,50,100],component:"div",count:z.totalDocs,rowsPerPage:M,page:c,onPageChange:function(e,n){p(n),(0,w.WI)((0,P.AQ)(n+1,M,"",V))},onRowsPerPageChange:function(e){(0,w.WI)((0,P.AQ)(c+1,e.target.value,"",V)),S(parseInt(null===e||void 0===e?void 0:e.target.value))}}),O&&(0,$.jsx)(se,{open:O,close:function(){return R(!1),void(0,w.WI)((0,P.AQ)(c+1,M))}})]})}}}]);